!function(e){function t(t){for(var n,r,s=t[0],u=t[1],c=t[2],p=0,f=[];p<s.length;p++)r=s[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(l&&l(t);f.length;)f.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,s=1;s<o.length;s++){var u=o[s];0!==a[u]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},a={3:0},i=[];function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;i.push([14,0,2]),o()}({14:function(e,t,o){"use strict";o.r(t);var n=o(1),a=o(0);o(3),o(2);var i=null,r=0;let s;chrome.runtime.onMessage.addListener((function(e,t,o){i&&"WCL.userCancel"==e.type?(i.postMessage({type:"WCL.userCancel"}),r&&(clearInterval(r),r=0)):"loadAppConfig"==e.type?(o({type:"postAppConfig",info:n.a}),a.a.checkSyncForDataVersion()):"getwebextmapping"==e.type&&a.a.toSyncEidMeetingMap()}));var u=function(e){for(var t=chrome.app.getDetails().content_scripts[0].js,o=0,n=t.length;o<n;o++)chrome.tabs.executeScript(e.id,{file:t[o]})};function c(e){return!!e&&"zoom.us"==function(e){var t=function(e){return(e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]}(e),o=t.split("."),n=o.length;return n>2&&(t=o[n-2]+"."+o[n-1],2==o[n-2].length&&2==o[n-1].length&&(t=o[n-3]+"."+t)),t}(e)}function l(e,t){s&&s.postMessage({error:!0,errorMsg:e,syncState:t})}chrome.runtime.onInstalled.addListener((function(e){chrome.tabs.query({},(function(e){for(var t,o,n,a=e.length,i=0;i<a;i++)if(e[i].url){var r=(t=e[i].url,o=void 0,n=void 0,o=t.split("//"),-1==(n=o[1].indexOf("/"))?o[1]:o[1].substring(0,n));r&&c(r)&&u(e[i])}}))})),chrome.extension.onMessage.addListener((function(e,t,o){var n,i,r,s,u=a.a.getZoomData(),c=!1,l=!1;if(u&&(u.assistants&&(n=u.assistants),u.forcelogin&&(i=u.forcelogin),u.trackfields&&(r=u.trackfields),u.recording&&(s=u.recording),c=!!u.option_pmi_jbhpwd,u.scheduleDefaultLockOption&&(l="true"===u.scheduleDefaultLockOption.usePMISchedule_locked)),"getZoomToken"==e.type){let{needPassword:e,voidable:t}=a.a.checkNeedPasswordForPopup(),p=a.a.getZoomZakRequestToken();p?o({baseurl:a.a.getUserBaseUrl(),token:p,fte:a.a.getValue("zoom_config_fte"),showSetting:!!a.a.getValue("zoom_config_fixed_popup"),inputManualPwd:e,pwdVoidable:t,showDomainInput:i&&i.domain_login,hasAssistants:n&&n.length>0,requireTracking:r&&r.length>0,hasCloudRecord:s&&s.option_cloud_recording,hasLocalRecord:s&&s.option_local_recording,pmi_jbh2pwd:c,schedulePmiLock:l,trackfields:r,zoom_config_pmi_saved_pwd:a.a.getPmiSavedPwd(),zoom_config_pmi:Boolean(a.a.getValue("zoom_config_pmi")),meetingPwdSettingsMap:a.a.getMeetingPwdSettingsMap(),iSFreeAccount:u&&u.iSFreeAccount}):a.a.popupLogin()}else if("getMeetingTrashUrl"==e.type){let e=a.a.getZoomData();if(e&&e.meetingTrashUrl){let t=e.meetingTrashUrl;"string"===$.type(t)&&"/"===t[0]&&(t=t.slice(1)),o({meetingTrashUrl:a.a.getUserBaseUrl()+t})}else o("")}})),chrome.extension.onMessage.addListener((function(e,t,o){var n,i=!1,r=!1;if((s=a.a.getZoomData())&&s.audiopac&&(n=s.audiopac),n&&n.option_pac_enable&&(i=!0),s&&s.option_freeuser&&(r=!!s.option_freeuser&&a.a.hasZoomRqToken()),"supportPAC"==e.type)o({hasPac:i});else if("quickschedule"==e.type){var s=a.a.getZoomData(),u=(a.a.getValue("zoom_config_jbh"),!!a.a.getValue("zoom_config_pmi"));if(a.a.checkNeedPassword()){a.a.getMeetingPwdSettingsMap();if(u){let t=a.a.getPmiSavedPwd();e.info.password=t}}a.a.hasZoomRqToken()?a.a._scheduleMeeting(!1,e.info,(function(e){o(e)}),(function(e){o(e),e.syncState&&l(e.errorMessage,e.syncState)})):o({errorCode:201})}else"newPerm"==e.type?chrome.tabs.create({url:chrome.extension.getURL("permission.html"),selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0})})):"validateAltHost"==e.type?a.a.validAlternateHost(e.althosts,(function(e){o(e)}),(function(e){o(e)})):"checkUserType"==e.type&&o({freeUser:r})})),chrome.runtime.onConnect.addListener((function(e){s&&s.sender.tab.url.indexOf("calendar")>-1&&chrome.tabs.sendMessage(s.sender.tab.id,{type:"disConnect"}),console.assert("Zoom"==e.name),s=e;function t(t){a.a.scheduleMeeting(t,(function(t){a.a.saveValue("zoom_config_fte",!1),e.postMessage({type:"schedule",meeting:t.result})}),(function(e){l(e.errorMessage||n.a.errors[5],e.syncState)}))}function o(e,t){if(!e||!e.length)return i.postMessage({type:"WCL.PermissionDeniedError"});i.postMessage({type:"WCL.sharing",sourceId:e,canRequestAudioTrack:!!t.canRequestAudioTrack})}function u(e,t){let o=parseInt(a.a.getValue("zoom_login_request_tabid"));isNaN(o)||(a.a.removeValue("zoom_login_request_tabid"),chrome.tabs.update(o,{active:!0},(function(a){let i={type:"authenticationSigninResult",state:e};2===e&&(i.msg=n.a.errors[6],i.errorCode=t),chrome.tabs.sendMessage(o,i)})))}function c(e){let t=parseInt(a.a.getValue("zoom_login_req_option_tabid"));if(!isNaN(t))if(1===e){a.a.removeValue("zoom_login_req_option_tabid");let e=parseInt(a.a.getValue("zoom_popup_tabpage_tabid"));a.a.removeValue("zoom_popup_tabpage_tabid"),chrome.tabs.remove(e,(function(){chrome.runtime.lastError}));let o=a.a.getValue("zoom_login_req_need_reload");chrome.tabs.update(t,{active:!0},(function(e){!chrome.runtime.lastError&&o&&chrome.tabs.reload(t)})),a.a.removeValue("zoom_login_req_need_reload")}else{let e=parseInt(a.a.getValue("zoom_popup_tabpage_tabid"));chrome.tabs.update(e,{active:!0},(function(e){chrome.runtime.lastError||alert(n.a.errors[6])}))}}e.onMessage.addListener((function(s){if("WCL.getSourceID"!=s.type){var p;if("schedule"==s.type)a.a.hasZoomRqToken()?t(s.info):a.a.popupLogin();else if("schedulepac"==s.type){a.a.hasZoomRqToken()?a.a.schedulePACMeeting(s.info,(function(t){e.postMessage({type:"schedule",meeting:t.result})}),(function(e){l(n.a.errors[5])})):a.a.popupLogin()}else if("update"==s.type){a.a.hasZoomRqToken()&&(p=s.info,a.a.editMeeting(p,(function(e){}),(function(t){let o=a.a.getZoomData();o&&o.hideError4SpecialUser||e.postMessage({type:"editFailed",errorMsg:t.errorMessage})})))}else if("delete"==s.type){a.a.hasZoomRqToken()&&a.a.deleteMeeting(s.info,(function(t){e.postMessage({type:"delSuccess",meeting:t.result})}),(function(e){}))}else if("icon_delete"==s.type){a.a.hasZoomRqToken()?a.a.deleteMeeting(s.info,(function(t){e.postMessage({type:"iconDeleteSuccess",meeting:t.result})}),(function(t){e.postMessage({type:"iconDeleteFailed"})})):a.a.popupLogin()}else if("deleteonly"==s.type){a.a.hasZoomRqToken()&&a.a.deleteMeeting(s.info,(function(e){}),(function(e){}))}else if("passOAuthToken"==s.type)a.a.govLogin(s.info.term,s.info.first_name,s.info.last_name,s.info.url,s.info.token||"","",(function(){a.a.saveGoogleToken(s.info.token),a.a.saveValue("zoom_auth_type",3),chrome.tabs.query({},(function(e){e.length>1?chrome.tabs.remove(parseInt(a.a.getValue("zoom_oauth_tabid")),(function(){chrome.runtime.lastError})):chrome.tabs.update(parseInt(a.a.getValue("zoom_oauth_tabid")),{url:"about:blank"},(function(){chrome.runtime.lastError}))})),u(1),c(1)}),(function(e){chrome.tabs.query({},(function(e){e.length>1?chrome.tabs.remove(parseInt(a.a.getValue("zoom_oauth_tabid")),(function(){chrome.runtime.lastError})):chrome.tabs.update(parseInt(a.a.getValue("zoom_oauth_tabid")),{url:"about:blank"},(function(){chrome.runtime.lastError}))})),u(2,e),c(2)}));else if("passSsoSession"==s.type)a.a._ssologin(s.info.url,"","",(function(){chrome.tabs.query({},(function(e){e.length>1?chrome.tabs.remove(parseInt(a.a.getValue("zoom_oauth_tabid")),(function(){chrome.runtime.lastError})):chrome.tabs.update(parseInt(a.a.getValue("zoom_oauth_tabid")),{url:"about:blank"},(function(){chrome.runtime.lastError}))})),a.a.saveZoomSSOValidDate(new Date),a.a.saveValue("zoom_auth_type",2),u(1),c(1)}),(function(e){chrome.tabs.query({},(function(e){e.length>1?chrome.tabs.remove(parseInt(a.a.getValue("zoom_oauth_tabid")),(function(){chrome.runtime.lastError})):chrome.tabs.update(parseInt(a.a.getValue("zoom_oauth_tabid")),{url:"about:blank"},(function(){chrome.runtime.lastError}))})),u(2,e),c(2)}));else if("loadZoomOptions"==s.type)e.postMessage({type:"updateZmOptions",zmOpt:a.a.getZoomSetting()});else if("saveOptionsAndSchedule"==s.type)a.a.hasZoomRqToken()?a.a.updateZoomSetting(s.info,(function(){a.a.saveValue("zoom_config_pmi_saved_pwd",s.info.pmi_saved_pwd),t(s.info)})):a.a.popupLogin();else if("saveOptionsAndQuickSchedule"==s.type)a.a.hasZoomRqToken()?a.a.updateSettingForQucik(s.info,(function(){t(s.info)})):a.a.popupLogin();else if("sendLog"==s.type)a.a.hasZoomRqToken()&&a.a.sendLog(s.info,(function(){}));else if("sync"==s.type)a.a.toSync((function(){}),(function(){}));else if("saveNewCalendarEvent"==s.type)a.a.createMeetingMp(s.info,(function(){}),(function(){}));else if("removeCalendarEvent"==s.type)a.a.sendLog({msgType:3,msg:{info:"zm-observer trigger to delete.",baseid:s.info.event_baseid},operaType:1}),a.a.removeMeetingMp(s.info,(function(t){t.result&&0!=t.result&&e.postMessage({type:"deleteMeetingToast"})}),(function(){}));else if("updateTimeAndTimezone"==s.type)a.a.updateMeetingTimeAndTimezone(s.info,(function(){}),(function(){}));else if("getCalendarEvent"==s.type)a.a.getMeetingMp(s.info,(function(){}),(function(){}));else if("signWithGoogleEvent"==s.type)a.a.signWithGoogle();else if("workemailSigninEvent"==s.type)a.a.workemailSignin(s.info,(function(t){e.postMessage({type:"workemailSigninResult",info:t})}));else if("ssoSigninEvent"==s.type)a.a.ssoSignin(s.info,(function(t){e.postMessage({type:"ssoSigninResult",info:t})}));else if("saveStorageData"==s.type){let e=s.key,t=s.val;a.a.saveValue(e,t)}else"loadAppConfig"==s.type?e.postMessage({type:"postAppConfig",info:n.a}):"callPopupLogin"==s.type?a.a.popupLogin():"remoteCheckPwd"==s.type&&s.info.pwd&&a.a.remoteCheckPassword(s.info.pwd).done((function(t){e.postMessage({type:"remoteCheckPwdResult",exception:!1,info:{res:t.status,msg:t.errorMessage,errortype:1,channel:s.info.channel}})})).fail((function(){e.postMessage({type:"remoteCheckPwdResult",exception:!0,info:{channel:s.info.channel}})}))}else{i=e;var f=["screen","window"];chrome.desktopCapture?chrome.desktopCapture.chooseDesktopMedia(f,e.sender.tab,o):(chrome.windows.create({url:chrome.extension.getURL("sharing.html"),type:"popup",left:Math.abs(Number.parseInt((window.screen.width-800)/2)),top:Math.abs(Number.parseInt((window.screen.height-295)/2)),focused:!0,width:800,height:295}),r||(r=setInterval((function(){chrome.desktopCapture&&(chrome.desktopCapture.chooseDesktopMedia(f,e.sender.tab,o),clearInterval(r))}),1e3)))}}))})),chrome.runtime.onMessageExternal.addListener((function(e,t,o){return e&&e.message&&"version"==e.message&&o({version:1}),!0}))},4:function(e,t,o){}});