!function(e){function t(t){for(var n,r,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,s=1;s<o.length;s++){var l=o[s];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},a={5:0,2:0},i=[];function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([13,1,0]),o()}([function(e,t,o){"use strict";var n=o(1),a=o(2);let i={baseUrl:`https://${n.a.runEnv[0]}zoom${n.a.runEnv[1]}.us/`,loginUrl:"mimo/login",logoutUrl:"mimo/logout",scheduleMeetingUrl:"mimo/schedule",schedulePMIMeetingUrl:"mimo/pmi",schedulePACMeetingUrl:"mimo/schedule_pac",editMeetingUrl:"mimo/editMeeting",deleteMeetingUrl:"mimo/deleteMeeting",validateTokenURL:"mimo/validtoken",saveSettingURL:"mimo/save_setting",validAlternativeHost:"mimo/valid_althost",syncEidMeetingMapUrl:"mimo/getWebExtMapping",updateTimeAndTimezoneUrl:"mimo/updateScheduleTimeAndTimezone",logUrl:"mimo/log4zm",checkPwdUrl:"mimo/checkMeetingPassword",instantMeetingUrl:"mimo/instant",logTimeDelayer:null,logDataArr:[],remoteCheckPwdCache:{},populateZak:function(e){var t=i.getZoomZakRequestToken();t&&$.extend(e,{zak:t})},getOAuthURL:function(){return`https://${n.a.runEnv[0]}zoom${n.a.runEnv[1]}.us/mimo/google_signin`},schedulePACMeeting:function(e,t,o){var n=i.getUserBaseUrl()+i.schedulePACMeetingUrl,a=i.getValue("zoom_config_pacindex")||"1";isNaN(parseInt(a,10))&&(a="1");var r={selectedPAC:a,trackfields:e.trackfields};i.populateZak(r),$.ajax({type:"POST",url:n,data:r,timeout:1e4,headers:i.getZoomHeader(),dataType:"json",success:function(e){e.status?(e.result&&(i.saveZoomZakRequestToken(e.result._zm_zak),i.saveZoomDataModifiedDate(new Date),e.result.addJoinUrl=null==i.getValue("zoom_config_joinurl")||!!i.getValue("zoom_config_joinurl")),t(e)):o(e)},error:function(e){o(e)}})},scheduleMeeting:function(e,t,o){i._scheduleMeeting(!0,e,t,o)},encodeHtml:function(e){return"string"!=typeof e?e:e.replace(/"|&|'|<|>|[\x00-\x20]|[\x7F-\xFF]|[\u0100-\u2700]/g,(function(e){var t=e.charCodeAt(0),o=["&#"];return t=32==t?160:t,o.push(t),o.push(";"),o.join("")}))},checkNeedPassword:function(){let e=!!i.getValue("zoom_config_pmi"),t=!!i.getValue("zoom_config_jbh"),o=i.getValue("zoom_config_jbh_pwd"),n=i.getZoomData(),a=!1,r=!1;try{a="true"===n.scheduleDefaultLockOption.password}catch(e){}let s=!1;try{s="true"===n.scheduleDefaultLockOption.password_locked}catch(e){}return r=e?a?!(!t||!s)||(null===o?t:!!o):!!i.getValue("zoom_config_all_pmi_pwd"):!!i.getValue("zoom_config_one_time_pwd")},checkNeedPasswordForPopup:function(){let e=!!i.getValue("zoom_config_pmi"),t=!!i.getValue("zoom_config_jbh"),o=i.getZoomData(),n=!1;try{n="true"===o.scheduleDefaultLockOption.password_locked}catch(e){}let a=i.getValue("zoom_config_jbh_pwd"),r=!1,s=!1,l=!1;try{r="true"===o.scheduleDefaultLockOption.password}catch(e){}if(e)if(r)t&&n?s=!0:null===a?s=t:!(s=!!a)&&t&&(s=!0,l=!0);else{s=!!i.getValue("zoom_config_all_pmi_pwd");let e=!1;try{e="true"===o.scheduleDefaultLockOption.password4PMI}catch(e){}!s&&e&&(s=!0,l=!0)}else s=!1;return{needPassword:s,voidable:l}},editNeedPasswordState:function(e){e=!!e;let t=!!i.getValue("zoom_config_pmi"),o=!1;try{o="true"===i.getZoomData().scheduleDefaultLockOption.password}catch(e){}t?o?i.saveValue("zoom_config_jbh_pwd",e):i.saveValue("zoom_config_all_pmi_pwd",e):i.saveValue("zoom_config_one_time_pwd",e)},_scheduleMeeting:function(e,t,o,r){var s=!!i.getValue("zoom_config_jbh"),l=i.checkNeedPassword(),c=!!i.getValue("zoom_config_mute_upon_entry"),u=!!i.getValue("zoom_config_public_cal"),d=i.getValue("zoom_config_video_host")||"off",p=i.getValue("zoom_config_video_participants")||"off",_=i.getValue("zoom_config_audio")||"both",m=i.getValue("zoom_config_schedule_for")||"",g=i.getValue("zoom_config_rectype"),f=i.getZoomData();let h="";try{let e=i.getZoomData().enableJBHPriorStartMeeting;!i.getValue("zoom_config_pmi")&&s&&e&&(h=i.getJbhTimeMinutes())}catch(e){console.log(e)}var v="",b=!1,w={};i.populateZak(w);var y=i.getUserBaseUrl()+i.scheduleMeetingUrl;if(l){let e=t.password;if(e&&""!=e)v=e;else if(!i.getValue("zoom_config_pmi")){let e=f&&f.iSFreeAccount?2:1,t=i.getMeetingPwdSettingsMap();t.enhanceDetectionRule?b=!0:v=a.a.generateMeetingPassword(t,e)}}var k="Zoom Meeting";if(f){var z=f.assistants;m&&z&&z.length>0?$.each(z,(function(e,t){t.id==m&&(k=i.resolveUserName(t.name)+" Zoom Meeting")})):k=i.resolveUserName(f.displayName)+" Zoom Meeting";let e=f.authentication;if(e&&e.support&&(w.enableAuthentication=!!i.getValue("enableAuthentication"),w.enableAuthentication))try{let e=i.getUpdateAuthOptionItem();"object"==$.type(e)&&(w.authOptionsJson=JSON.stringify({selectAuthName:e.name,option_enforce_signed_in:parseInt(e.type),selectAuthId:e.id,authDomain:e.domain}),w.option_enforce_signed_in=parseInt(e.type))}catch(e){console.log(e),i.sendLog({msgType:4,msg:{msg:"append authOptionsJson failed",function:"_scheduleMeeting",errorStack:e.stack}})}let t=f.dcOptions,o=i.getDcEnableOptions(t);o&&(w.dcEnableOptions=o)}var V=i.getValue("zoom_config_althost");V&&""!=V&&$.extend(w,{mtg_alternative_host:V.replace(/,/g,";")}),$.extend(w,{ext_version:n.a.extVersion,topic:k,scheduleTime:t.scheduleTime,option_jbh:s,mute_upon_entry:c,public_cal:u,password:v,option_video_host:d,option_video_participants:p,option_schedule_for:m,option_audio_type:_,option_record_type:g,trackfields:t.trackfields,timezone:t.timezone,jbhTimeMinutes:h,use_pmi:!!i.getValue("zoom_config_pmi"),enable_unmute_all:!!i.getValue("enable_unmute_all"),backendGeneratePwd:b}),i._ajaxScheduleMtg(e,y,w,o,r)},_ajaxScheduleMtg:function(e,t,o,a,r){$.ajax({type:"POST",url:t,data:o,async:e,timeout:15e3,headers:i.getZoomHeader(),dataType:"json",success:function(e){e.status?(e.result&&(i.saveZoomZakRequestToken(e.result._zm_zak),i.saveZoomDataModifiedDate(new Date),e.result.addJoinUrl=null==i.getValue("zoom_config_joinurl")||!!i.getValue("zoom_config_joinurl")),a(e)):201==e.errorCode?(i.clearAllData(),r(e)):3001==e.errorCode?alert(e.errorMessage):3105==e.errorCode?(r({syncState:1,errorMessage:n.a.tips[14]}),i.toSyncImmediate().done((function(e){r({syncState:2,errorMessage:n.a.tips[15]})})).fail((function(){r({syncState:3,errorMessage:n.a.tips[16]})}))):(3068==e.errorCode&&i.editNeedPasswordState(!0),r(e))},error:function(e){let t={};e&&e.statusText&&(t.errorMessage=e.statusText),r(t)}}),i.sendLog({msgType:5,msg:{msg:"Send a schedule meeting request, method name: _ajaxScheduleMtg",parameters:o},operaType:3})},editMeeting:function(e,t,o){e={ext_version:n.a.extVersion,meetingNumber:e.number,duration:e.duration,scheduleTime:e.startTime,timezone:e.timezone,isRepeat:e.isRepeat,zoomrooms:e.zoomrooms,topic:e.topic,zm_eid:e.zm_eid,event_baseid:e.event_baseid||""};i.populateZak(e),$.ajax({type:"POST",url:i.getUserBaseUrl()+i.editMeetingUrl,data:e,headers:i.getZoomHeader(),dataType:"json",success:function(n){n.status?(e.meetingNumber&&e.zm_eid&&i.updateEidMeetingMap(e.zm_eid,e.meetingNumber,e.event_baseid),t(n)):201==n.errorCode?i.clearAllData():o(n)}}),i.sendLog({msgType:5,msg:{msg:"Send a editMeeting request, method name: editMeeting",parameters:e},operaType:3})},createMeetingMp:function(e,t,o){e={ext_version:n.a.extVersion,meeting_number:e.number,calendarId:e.calendarId,event_baseid:e.event_baseid||""};i.populateZak(e),$.ajax({type:"POST",url:i.getUserBaseUrl()+"mimo/crmapping",data:e,headers:i.getZoomHeader(),dataType:"json",success:function(n){n.status?(i.updateEidMeetingMap(e.calendarId,e.meeting_number,e.event_baseid),t(n)):o(n)}}),i.sendLog({msgType:5,msg:{msg:"Send a crmapping request, method name: createMeetingMp",parameters:e},operaType:3})},removeMeetingMp:function(e,t,o){e={ext_version:n.a.extVersion,zm_eid:e.calendarId||"",event_baseid:e.event_baseid||""};i.populateZak(e),$.ajax({type:"POST",url:i.getUserBaseUrl()+i.deleteMeetingUrl,data:e,headers:i.getZoomHeader(),dataType:"json",success:function(n){n.status?((e.zm_eid||e.event_baseid)&&i.updateEidMeetingMap(e.zm_eid,"",e.event_baseid),t(n)):o(n)}}),i.sendLog({msgType:5,msg:{msg:"Send a delete meeting request, method name: removeMeetingMp",parameters:e},operaType:3})},getMeetingMp:function(e,t,o){e={calendarId:e.calendarId};i.populateZak(e),$.ajax({type:"POST",url:i.getUserBaseUrl()+"mimo/getmapping",data:e,headers:i.getZoomHeader(),dataType:"json",success:function(e){e.status?t(e):o(e)}})},deleteMeeting:function(e,t,o){e={ext_version:n.a.extVersion,number:e.number,zm_eid:e.zm_eid||"",event_baseid:e.event_baseid||""};i.populateZak(e),$.ajax({type:"POST",url:i.getUserBaseUrl()+i.deleteMeetingUrl,data:e,timeout:1e4,headers:i.getZoomHeader(),dataType:"json",success:function(n){n.status?(e.zm_eid&&i.updateEidMeetingMap(e.zm_eid,e.number,e.event_baseid),t(n)):o(n)},error:function(e){o(e)}}),i.sendLog({msgType:5,msg:{msg:"Send a delete meeting request, method name: deleteMeeting",parameters:e},operaType:3})},updateMeetingTimeAndTimezone:function(e,t,o){},getZoomSetting:function(){var e={};let t=i.getZoomData()||{};e.zoom_config_schedule_for=i.getValue("zoom_config_schedule_for"),e.zoom_assistants=t.assistants,e.zoom_config_video_host=i.getValue("zoom_config_video_host")||"off",e.zoom_config_video_participants=i.getValue("zoom_config_video_participants")||"off",e.zoom_config_audio=i.getValue("zoom_config_audio")||"both",e.zoom_config_hasOther=!!t.option_has3rd,e.zoom_config_noBoth=!!t.option_noboth,e.zoom_config_jbh=!!i.getValue("zoom_config_jbh"),e.jbhTimeMinutes=i.getJbhTimeMinutes(),e.enableJBHPriorStartMeeting=!!t.enableJBHPriorStartMeeting,e.zoom_config_watermark=!!i.getValue("zoom_config_watermark"),e.zoom_config_audiomark=!!i.getValue("zoom_config_audiomark"),e.zoom_config_mute_upon_entry=!!i.getValue("zoom_config_mute_upon_entry"),e.zoom_config_waiting_room=!!i.getValue("zoom_config_waiting_room"),e.zoom_config_hasPubCal=!!t.option_haspublic_cal,e.zoom_config_public_cal=!!i.getValue("zoom_config_public_cal"),e.zoom_config_pmi=!!i.getValue("zoom_config_pmi"),e.zoom_config_pmiNum=t.PMI,e.zoom_config_pmi_saved_pwd=i.getPmiSavedPwd(),e.zoom_config_one_time_pwd=i.getValue("zoom_config_one_time_pwd"),e.zoom_config_jbh_pwd=i.getValue("zoom_config_jbh_pwd"),e.zoom_config_all_pmi_pwd=i.getValue("zoom_config_all_pmi_pwd"),e.authentication=t.authentication,e.enableAuthentication=!!i.getValue("enableAuthentication"),e.updateAuthOptionItem=i.getUpdateAuthOptionItem(),e.zoom_support_althost=!(void 0===t.alt_hosts),e.zoom_config_althost=i.getValue("zoom_config_althost"),e.zoom_config_fixed_popup=!!i.getValue("zoom_config_fixed_popup"),e.zoom_config_enable_watermark=!!t.option_enable_watermark,e.zoom_config_enable_audiomark=!!t.scheduleDefaultLockOption&&"true"===t.scheduleDefaultLockOption.audioWaterMark,e.zoom_audiomarkLocked=!!t.scheduleDefaultLockOption&&"true"===t.scheduleDefaultLockOption.audioWaterMark_locked,e.zoom_config_joinurl=null==i.getValue("zoom_config_joinurl")||!!i.getValue("zoom_config_joinurl"),e.zoom_trackfields=t.trackfields,e.zoom_record_type=i.getValue("zoom_config_rectype");try{e.zoom_local_record=t.recording.option_local_recording,e.zoom_cloud_record=t.recording.option_cloud_recording}catch(t){e.zoom_local_record=!1,e.zoom_cloud_record=!1}e.lockOpts=t.lockedoptions,e.host_email=t.email||"",e.option_enable_reg=Boolean(t.option_enable_reg),e.zoom_option_require_reg=Boolean(i.getValue("zoom_option_require_reg")),e.pmi_jbh2pwd=!!t.option_pmi_jbhpwd;var o=!1;t.scheduleDefaultLockOption&&"true"===t.scheduleDefaultLockOption.usePMISchedule_locked&&(o=!0),e.schedulePmiLock=o,e.jbhPwd_default=!1,e.jbhLock=!1,e.allPimLock=!1,e.oneTimeLock=!1;try{e.jbhPwd_default="true"===t.scheduleDefaultLockOption.password,e.allPmiPwd_default="true"===t.scheduleDefaultLockOption.password4PMI,e.jbhLock="true"===t.scheduleDefaultLockOption.password_locked,e.allPimLock="true"===t.scheduleDefaultLockOption.password4PMI_locked,e.oneTimeLock="true"===t.scheduleDefaultLockOption.password4Schedule_locked}catch(e){}return e.dcOptions=t.dcOptions,e.enableDC=i.getEnableDC(),e.showDisablePmiMsg=i.getShowDisablePmiMsg(),e.show_unmute_all=t.show_unmute_all,e.enable_unmute_all=!!i.getValue("enable_unmute_all"),e},updateZoomSetting:function(e,t){i.saveValue("zoom_config_schedule_for",e.zoom_config_schedule_for),i.saveValue("zoom_config_video_host",e.zoom_config_video_host),i.saveValue("zoom_config_video_participants",e.zoom_config_video_participants),i.saveValue("zoom_config_audio",e.zoom_config_audio),i.saveValue("zoom_config_jbh",e.zoom_config_jbh),i.saveValue("zoom_config_watermark",e.zoom_config_watermark),i.saveValue("zoom_config_audiomark",e.zoom_config_audiomark),i.saveValue("zoom_config_mute_upon_entry",e.mute_upon_entry),i.saveValue("zoom_config_waiting_room",e.waiting_room),i.saveValue("zoom_config_public_cal",e.public_cal),i.saveValue("zoom_config_pmi",e.zoom_config_pmi),i.saveValue("zoom_config_one_time_pwd",e.option_password4Schedule),i.saveValue("zoom_config_jbh_pwd",e.option_password),i.saveValue("zoom_config_all_pmi_pwd",e.option_password4PMI),e.zoom_config_pacindex=i.getValue("zoom_config_pacindex"),i.saveValue("enableAuthentication",e.enableAuthentication),e.updateAuthOptionItem&&i.setUpdateAuthOptionItem(e.updateAuthOptionItem),e.updateAuthOptionItem=JSON.stringify(i.getUpdateAuthOptionItem()),e.jbhTimeMinutes&&(i.setJbhTimeMinutes(e.jbhTimeMinutes),delete e.jbhTimeMinutes),i.saveValue("zoom_config_althost",e.zoom_config_alternativehost),i.saveValue("zoom_config_rectype",e.record_type),i.saveValue("zoom_config_joinurl",e.zoom_config_joinurl),i.saveValue("zoom_option_require_reg",e.zoom_option_require_reg),e.zoom_config_fixed_popup=i.getValue("zoom_config_fixed_popup"),e.require_reg=e.zoom_option_require_reg,delete e.zoom_option_require_reg,e.zoom_config_pmi_saved_pwd?(e.pmi_saved_pwd=e.zoom_config_pmi_saved_pwd,delete e.zoom_config_pmi_saved_pwd):e.pmi_saved_pwd=i.getPmiSavedPwd(),void 0!==e.enableDC&&i.setEnableDC(e.enableDC),e.enableDC=JSON.stringify(i.getEnableDC()),e.showDisablePmiMsg&&(i.setShowDisablePmiMsg(e.showDisablePmiMsg),delete e.showDisablePmiMsg),i.saveValue("enable_unmute_all",e.enable_unmute_all),i.saveZoomSetting(e,t,(function(e){}),(function(){}))},updateSettingForQucik:function(e,t){let o=i.getLocalStorageZoomOptions();if(e.changepwd&&(i.saveValue("zoom_config_pmi_saved_pwd",e.password),o.pmi_saved_pwd=e.password),e.mandatorypwd){let e=!1;try{e="true"===i.getZoomData().scheduleDefaultLockOption.password}catch(e){}e?(i.saveValue("zoom_config_jbh_pwd",!0),o.option_password=!0):(i.saveValue("zoom_config_all_pmi_pwd",!0),o.option_password4PMI=!0)}i.saveZoomSetting(o,t,(function(e){}),(function(){}))},getLocalStorageZoomOptions:function(){return{zoom_config_schedule_for:i.getValue("zoom_config_schedule_for"),zoom_config_pmi:!!i.getValue("zoom_config_pmi"),zoom_config_jbh:!!i.getValue("zoom_config_jbh"),public_cal:!!i.getValue("zoom_config_public_cal"),mute_upon_entry:!!i.getValue("zoom_config_mute_upon_entry"),waiting_room:!!i.getValue("zoom_config_waiting_room"),zoom_config_video_host:i.getValue("zoom_config_video_host")||"off",zoom_config_video_participants:i.getValue("zoom_config_video_participants")||"off",zoom_config_audio:i.getValue("zoom_config_audio")||"both",zoom_config_pacindex:i.getValue("zoom_config_pacindex"),record_type:i.getValue("zoom_config_rectype"),zoom_config_watermark:!!i.getValue("zoom_config_watermark"),zoom_config_audiomark:!!i.getValue("zoom_config_audiomark"),zoom_config_alternativehost:i.getValue("zoom_config_althost"),zoom_config_fixed_popup:!!i.getValue("zoom_config_fixed_popup"),zoom_config_joinurl:null==i.getValue("zoom_config_joinurl")||!!i.getValue("zoom_config_joinurl"),require_reg:!!i.getValue("zoom_option_require_reg"),pmi_saved_pwd:i.getPmiSavedPwd(),option_password4Schedule:!!i.getValue("zoom_config_one_time_pwd"),option_password:!!i.getValue("zoom_config_jbh_pwd"),option_password4PMI:!!i.getValue("zoom_config_all_pmi_pwd"),enableAuthentication:!!i.getValue("enableAuthentication"),updateAuthOptionItem:JSON.stringify(i.getUpdateAuthOptionItem()),enableDC:JSON.stringify(i.getEnableDC())}},validAlternateHost:function(e,t,o){var n={alternativehost:e};i.populateZak(n),$.ajax({type:"POST",url:i.getUserBaseUrl()+i.validAlternativeHost,data:n,async:!1,timeout:6e3,headers:i.getZoomHeader(),dataType:"json",success:function(e){t(e)},error:function(e){o(e)}})},checkSyncForDataVersion:function(){parseInt(i.getValue("dataVersion"))>0||i.toSyncImmediate().done((function(e){i.saveValue("dataVersion","1")})).fail((function(){i.saveValue("dataVersion","1")}))},saveZoomSetting:function(e,t,o,a,r){e.zoom_config_alternativehost=(e.zoom_config_alternativehost||"").replace(/,/g,";");var s={ext_version:n.a.extVersion};i.populateZak(s),$.extend(s,e),$.ajax({type:"POST",url:i.getUserBaseUrl()+i.saveSettingURL,timeout:1e4,data:s,headers:i.getZoomHeader(),dataType:"json",success:function(e){var n=e.result;e&&e.status?(i.saveZoomZakRequestToken(n._zm_zak),i.saveZoomDataModifiedDate(new Date),i.saveValue("zoom_config_fte",!1),t()):1113==e.errorCode||1114==e.errorCode||1115==e.errorCode?o(e):201==e.errorCode?"function"===$.type(a)&&a():alert(e.errorMessage)},complete:function(){"function"===$.type(r)&&r()}})},govLogin:function(e,t,o,n,a,r,s,l){var c=i.getUserBaseUrl()+i.loginUrl;if(e)return c+="?r_uid=1",void i._termAndlogin(t,o,c,a,s,l);n&&(c=n+"/mimo/login"),i._login(c,a,r,s,l)},login:function(e,t,o,n){i._login(i.getUserBaseUrl()+i.loginUrl,e,t,o,n)},_ssologin:function(e,t,o,n,a){var r=e+"/"+i.loginUrl;e||(r=i.getUserBaseUrl()+i.loginUrl),i._login(r,t,o,n,a)},_login:function(e,t,o,a,r){$.ajax({type:"POST",url:e,data:{snstype:1,accesstoken:t},headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){if(e.status){var t=e.result;if("object"!==$.type(t))return void i.recordZoomDataError(`${n.a.errors[1]} ${i.convertToString(t)}`,"common.js--_login");i.saveZoomData(t),i.resetZoomOptions(t),i.saveSyncTime(new Date),i.toSyncEidMeetingMap(),a()}else i.clearAllData(),r(e.errorCode)},error:function(){i.clearAllData(),r()}})},_termAndlogin:function(e,t,o,a,r,s){$.ajax({type:"POST",url:o,data:{snstype:1,first_name:e,last_name:t,term:!0,accesstoken:a},headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){if(e.status){var t=e.result;if("object"!==$.type(t))return void i.recordZoomDataError(`${n.a.errors[1]} ${i.convertToString(t)}`,"common.js--_termAndlogin");i.saveZoomData(t),i.resetZoomOptions(t),i.saveSyncTime(new Date),i.toSyncEidMeetingMap(),r()}else i.clearAllData(),s()},error:function(){i.clearAllData(),s()}})},signin:function(e,t,o,n){$.ajax({type:"POST",timeout:15e3,url:i.getUserBaseUrl()+"signin",data:e,headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?t(e.result):1002==e.errorCode?o():o(e.errorMessage)},complete:function(e,t){n(t)}})},govSignin:function(e,t,o,n,a){i.saveValue("zoom_govurl",t.substring(0,t.indexOf("/signin"))+"/"),$.ajax({type:"POST",timeout:15e3,url:t,data:e,headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?o(e.result):1002==e.errorCode?n():n(e.errorMessage)},complete:function(e,t){a(t)}})},_signin:function(e,t,o,n,a){$.ajax({type:"POST",timeout:15e3,url:t,data:e,headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?o(e.result):1002==e.errorCode?n():n(e.errorMessage)},complete:function(){a()}})},logout:function(e,t){var o=i.getZoomZakRequestToken(),n={};i.populateZak(n),o?$.ajax({type:"POST",timeout:1e4,url:i.getUserBaseUrl()+i.logoutUrl,data:n,headers:i.getZoomHeader(),dataType:"json",success:function(t){i.clearAllData(),e()},error:function(){i.clearAllData(),e()}}):(i.clearAllData(),e())},resolveZoomUrl:function(e){return e},getMeetingWithVideoUrl:function(){return i.resolveZoomUrl(i.getUserBaseUrl()+"start/videomeeting")},getMeetingWithoutVideoUrl:function(){return i.resolveZoomUrl(i.getUserBaseUrl()+"start/webmeeting")},startInstantMeeting:function(e){let t={ext_version:n.a.extVersion};return i.populateZak(t),$.ajax({type:"POST",timeout:5e3,url:i.getUserBaseUrl()+i.instantMeetingUrl,data:t,headers:i.getZoomHeader(),dataType:"json"}).done((function(t){t.status&&(e?chrome.tabs.create({url:i.getMeetingWithVideoUrl()}):chrome.tabs.create({url:i.getMeetingWithoutVideoUrl()}))}))},getMyMeetingsUrl:function(){return i.getUserBaseUrl()+"profile"},getUserBaseUrl:function(){var e=i.baseUrl,t=i.getZoomData(),o=i.getValue("zoom_govurl")||"";return o?e=o:t&&t._zm_baseurl&&""!=t._zm_baseurl&&(e=i.replaceComDomain(t._zm_baseurl+"/")),e},replaceComDomain:function(e){return e},getZoomHeader:function(){return{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":i.getClusterHeader(),"X-Requested-From":"ZOOM-EXTENSION","x-zm-haid":i.getHaidHeader(),"x-zm-aid":i.getAidHeader()}},getClusterHeader:function(){return i.getValue("zoom_cluster")||""},getHaidHeader:function(){return i.getValue("zm_haid")||""},getAidHeader:function(){return i.getValue("zm_aid")||""},getGoogleCalendarUrl:function(e){function t(e){return e.toISOString().replace(/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.\d+Z/gi,"$1$2$3T$4$5$6Z")}Date.prototype.addHours=function(e){return this.setHours(this.getHours()+e),this};var o,n,a=new Date;return a.setHours(a.getHours()+1),a.setMinutes(0),o=t(a),a.setHours(a.getHours()+1),n="http://calendar.google.com/calendar/event?action=TEMPLATE",n+="&dates=",n+=o+"/"+t(a),n+="&trp=true&zoomrd="+a.getTime(),e&&(n+="&zoompmi=true"),n},resolveUserName:function(e){return"s"===(e=$.trim(e)).charAt(e.length-1)?e+"'":e+"'s"},getZoomData:function(){let e="";try{e=JSON.parse(i.getValue("zoom_data"))}catch(e){}return e},saveZoomData:function(e){i.dataValidityCheck(e),i.saveValue("zoom_data",JSON.stringify(e)),i.saveZoomDataModifiedDate(new Date),i.saveZoomZakRequestToken(e._zm_zak),i.saveValue("zoom_zak_exp",e._zm_zak_exp||""),i.saveValue("zoom_locale",e._zm_locale),i.saveValue("zoom_sso_exp",e._zm_sso_exp||"2592000")},dataValidityCheck:function(e){if($.inArray(e.option_video_host,["on","off"])<0&&(i.recordZoomDataError(`option_video_host illegal: ${i.convertToString(e.option_video_host)}`),e.option_video_host="on"),$.inArray(e.option_video_participant,["on","off"])<0&&(i.recordZoomDataError(`option_video_participant illegal: ${i.convertToString(e.option_video_participant)}`),e.option_video_participant="on"),$.inArray(e.option_audio_type,["telephony","voip","both","other"])<0&&(i.recordZoomDataError(`option_audio_type illegal: ${i.convertToString(e.option_audio_type)}`),e.option_audio_type="both"),$.inArray(e.option_pmi_jbhpwd,[!0,!1])<0&&(i.recordZoomDataError(`option_pmi_jbhpwd illegal: ${i.convertToString(e.option_pmi_jbhpwd)}`),e.option_pmi_jbhpwd=!1),$.inArray(e.option_require_jbh,[!0,!1])<0&&(i.recordZoomDataError(`option_require_jbh illegal: ${i.convertToString(e.option_require_jbh)}`),e.option_require_jbh=!1),$.inArray(e.option_use_pmi,[!0,!1])<0&&(i.recordZoomDataError(`option_use_pmi illegal: ${i.convertToString(e.option_use_pmi)}`),e.option_use_pmi=!1),$.inArray(e.option_require_pwd,[!0,!1])<0&&(i.recordZoomDataError(`option_require_pwd illegal: ${i.convertToString(e.option_require_pwd)}`),e.option_require_pwd=!1),$.inArray(e.option_pwd_type,["1","2"])<0&&(i.recordZoomDataError(`option_pwd_type illegal: ${i.convertToString(e.option_pwd_type)}`),e.option_pwd_type="1"),$.inArray(e.option_joinurl,[!0,!1])<0&&(i.recordZoomDataError(`option_joinurl illegal: ${i.convertToString(e.option_joinurl)}`),e.option_joinurl=!1),$.inArray(e.option_watermark,[!0,!1])<0&&(i.recordZoomDataError(`option_watermark illegal: ${i.convertToString(e.option_watermark)}`),e.option_watermark=!1),$.inArray(e.option_audio_watermark,[!0,!1,void 0])<0&&(i.recordZoomDataError(`option_audio_watermark illegal: ${i.convertToString(e.option_audio_watermark)}`),delete e.option_audio_watermark),$.inArray(e.option_mute_upon_entry,[!0,!1])<0&&(i.recordZoomDataError(`option_mute_upon_entry illegal: ${i.convertToString(e.option_mute_upon_entry)}`),e.option_mute_upon_entry=!1),$.inArray(e.option_waiting_room,[!0,!1])<0&&(i.recordZoomDataError(`option_waiting_room illegal: ${i.convertToString(e.option_waiting_room)}`),e.option_waiting_room=!1),$.inArray(e.option_public_cal,[!0,!1])<0&&(i.recordZoomDataError(`option_public_cal illegal: ${i.convertToString(e.option_public_cal)}`),e.option_public_cal=!1),"object"!==$.type(e.scheduleDefaultLockOption)&&(i.recordZoomDataError(`scheduleDefaultLockOption illegal: ${i.convertToString(e.scheduleDefaultLockOption)}`),e.scheduleDefaultLockOption={}),$.inArray(e.option_fte,[!0,!1])<0&&(i.recordZoomDataError(`option_fte illegal: ${i.convertToString(e.option_fte)}`),e.option_fte=!1),"string"!==$.type(e.option_schedulefor_host)&&(i.recordZoomDataError(`option_schedulefor_host illegal: ${i.convertToString(e.option_schedulefor_host)}`),e.option_schedulefor_host=""),void 0===e.option_pacindex?e.option_pacindex="1":$.inArray(e.option_pacindex,["1","2"])<0&&(i.recordZoomDataError(`option_pacindex illegal: ${i.convertToString(e.option_pacindex)}`),e.option_pacindex="1"),$.inArray(e.option_enforce_login,[!0,!1])<0&&(i.recordZoomDataError(`option_enforce_login illegal: ${i.convertToString(e.option_enforce_login)}`),e.option_enforce_login=!1),"string"!==$.type(e.option_domain_info)&&(i.recordZoomDataError(`option_domain_info illegal: ${i.convertToString(e.option_domain_info)}`),e.option_domain_info=""),void 0!==e.alt_hosts&&""!==e.alt_hosts&&"array"!==$.type(e.alt_hosts)&&(i.recordZoomDataError(`alt_hosts illegal: ${i.convertToString(e.alt_hosts)}`),e.alt_hosts=""),$.inArray(e.option_fixed_popup,[!0,!1])<0&&(i.recordZoomDataError(`option_fixed_popup illegal: ${i.convertToString(e.option_fixed_popup)}`),e.option_fixed_popup=!1),null===e._zm_locale?e._zm_locale="en_US":"string"!==$.type(e._zm_locale)&&(i.recordZoomDataError(`_zm_locale illegal: ${i.convertToString(e._zm_locale)}`),e._zm_locale="en_US"),$.inArray(e.option_record_type,[-1,0,1,2])<0&&(i.recordZoomDataError(`option_record_type illegal: ${i.convertToString(e.option_record_type)}`),e.option_record_type=-1),"string"!==$.type(e._zm_cluster)&&(i.recordZoomDataError(`_zm_cluster illegal: ${i.convertToString(e._zm_cluster)}`),e._zm_cluster=""),$.inArray(e.option_require_reg,[!0,!1])<0&&(i.recordZoomDataError(`option_require_reg illegal: ${i.convertToString(e.option_require_reg)}`),e.option_require_reg=!1),"string"!==$.type(e.option_pmi_savepwd)&&(i.recordZoomDataError(`option_pmi_savepwd illegal: ${i.convertToString(e.option_pmi_savepwd)}`),e.option_pmi_savepwd=""),void 0===e.authentication)e.authentication={support:!1,enable:!1,locked:!1,optionLists:[],updateItem:"",enableAuthentication:!1};else if("object"!==$.type(e.authentication))i.recordZoomDataError(`authentication illegal: ${i.convertToString(e.authentication)}`),e.authentication={support:!1,enable:!1,locked:!1,optionLists:[],updateItem:"",enableAuthentication:!1};else{if("string"!==$.type(e.authentication.updateItem))i.recordZoomDataError(`authentication.updateItem illegal: ${i.convertToString(e.authentication.updateItem)}`),e.authentication.updateItem="";else{let t=e.authentication.updateItem;if(t)try{e.authentication.updateItem=JSON.parse(t)||""}catch(t){i.recordZoomDataError(`authentication.updateItem cannot be parsed into a json object: ${i.convertToString(e.authentication.updateItem)}`),e.authentication.updateItem=i.getUpdateAuthOptionItem()}}if("array"!==$.type(e.authentication.optionLists))i.recordZoomDataError(`authentication.optionLists illegal: ${i.convertToString(e.authentication.optionLists)}`),e.authentication.optionLists=[];else{let n=e.authentication.optionLists;for(var t=0,o=n.length;t<o;t++){let o=n[t];"object"!==$.type(o)&&(i.recordZoomDataError(`authentication.optionLists's items illegal: ${i.convertToString(o)}`),e.authentication.optionLists.splice(t,1),t--)}if(e.authentication.updateItem)if(e.authentication.enable){let t=i.getType0ItemInAuth(e.authentication.optionLists);t&&0==e.authentication.updateItem.type&&t.id!==e.authentication.updateItem.id&&(e.authentication.updateItem="")}else 1==n.length&&0==e.authentication.updateItem.type&&(e.authentication.optionLists=[])}}if(null===e.meetingPwdSettingsMap)e.meetingPwdSettingsMap="";else if("object"!==$.type(e.meetingPwdSettingsMap))i.recordZoomDataError(`meetingPwdSettingsMap illegal: ${i.convertToString(e.meetingPwdSettingsMap)}`),e.meetingPwdSettingsMap="";else if($.isEmptyObject(e.meetingPwdSettingsMap))e.meetingPwdSettingsMap="";else{$.each(e.meetingPwdSettingsMap,(function(t,o){"true"===o?e.meetingPwdSettingsMap[t]=!0:"false"!==o&&void 0!==o||(e.meetingPwdSettingsMap[t]=!1)}));try{let t=parseInt(e.meetingPwdSettingsMap.lengthRule);e.meetingPwdSettingsMap.lengthRule=isNaN(t)?0:t}catch(t){e.meetingPwdSettingsMap.lengthRule=0}try{let t=parseInt(e.meetingPwdSettingsMap.consecutiveRule);e.meetingPwdSettingsMap.consecutiveRule=isNaN(t)?0:t}catch(t){e.meetingPwdSettingsMap.consecutiveRule=0}}if("object"!==$.type(e.dcOptions))i.recordZoomDataError(`dcOptions illegal: ${i.convertToString(e.dcOptions)}`),e.dcOptions={support:!1,locked:!0,options:[]};else{let t=e.dcOptions;if("boolean"!==$.type(t.support)&&(t.support=!1),"boolean"!==$.type(t.locked)&&(t.locked=!1),"string"===$.type(t.enableDC))if(t.enableDC)try{t.enableDC=JSON.parse(t.enableDC),"object"!==$.type(t.enableDC)&&(t.enableDC=void 0)}catch(e){t.enableDC=void 0}else t.enableDC=void 0;else void 0!==t.enableDC&&(t.enableDC=void 0);"array"!==$.type(t.options)&&(t.options=[])}"boolean"!==$.type(e.show_unmute_all)&&(e.show_unmute_all=!1),"boolean"!==$.type(e.enable_unmute_all)&&(e.enable_unmute_all=!1)},getType0ItemInAuth:function(e){for(var t=0,o=e.length;t<o;t++){let o=e[t];if(o&&"0"==o.type)return o}return""},convertToString:function(e){if(Object.is(e,NaN)||void 0===e)return String(e);{let t="";try{t=JSON.stringify(e)}catch(t){i.sendLog({msgType:4,msg:{msg:"convertToString failed, data: "+e,errorStack:t.stack}})}return t}},recordZoomDataError:function(e,t){t=t||"common.js -- dataValidityCheck",i.sendLog({msgType:1,msg:{tag:"zoom_data error",msg:e,source:t}})},recordDataError:function(e,t){i.sendLog({msgType:1,msg:{tag:"data error",msg:e,source:t}})},getPmiSavedPwd:function(){return i.pwdDataValidity(i.getValue("zoom_config_pmi_saved_pwd"))},pwdDataValidity:function(e){return e=$.trim(e).slice(0,10)},resetZoomOptions:function(e){i.saveValue("zoom_config_video_host",e.option_video_host),i.saveValue("zoom_config_video_participants",e.option_video_participant),i.saveValue("zoom_config_audio",e.option_audio_type),i.saveValue("zoom_config_one_time_pwd",!!e.option_password4Schedule),void 0!==e.option_password&&i.saveValue("zoom_config_jbh_pwd",!!e.option_password),i.saveValue("zoom_config_all_pmi_pwd",!!e.option_password4PMI),i.saveValue("zoom_config_jbh",e.option_require_jbh),i.saveValue("zoom_config_joinurl",!!e.option_joinurl),i.saveValue("zoom_config_watermark",e.option_watermark),i.saveValue("zoom_config_audiomark",!!e.option_audio_watermark),i.saveValue("zoom_config_mute_upon_entry",e.option_mute_upon_entry),i.saveValue("zoom_config_waiting_room",e.option_waiting_room),i.saveValue("zoom_config_public_cal",e.option_public_cal),i.saveValue("zoom_config_fte",e.option_fte),i.saveValue("zoom_config_schedule_for",e.option_schedulefor_host),i.saveValue("zoom_config_pacindex",e.option_pacindex),i.saveValue("zoom_config_althost",e.alt_hosts||""),i.saveValue("zoom_config_fixed_popup",!!e.option_fixed_popup),i.saveValue("zoom_locale",e._zm_locale),i.saveValue("zoom_config_rectype",e.option_record_type),i.saveValue("zoom_cluster",e._zm_cluster||""),i.saveValue("zm_haid",e._zm_haid||""),i.saveValue("zm_aid",e._zm_aid||""),i.saveValue("zoom_option_require_reg",Boolean(e.option_require_reg)),i.saveValue("zoom_config_pmi_saved_pwd",e.option_pmi_savepwd||e.option_pmipwd||""),i.removeValue("zoom_govurl");let t,o=e.authentication;t=o.locked||void 0===o.enableAuthentication?o.enable:o.enableAuthentication,i.saveValue("enableAuthentication",Boolean(t)),i.setUpdateAuthOptionItem(o.updateItem),i.saveValue("meetingPwdSettingsMap",JSON.stringify(e.meetingPwdSettingsMap));let n=e.dcOptions.enableDC;n&&i.setEnableDC(n),i.resetZoomConfigPmi(e),i.saveValue("enable_unmute_all",e.enable_unmute_all)},resetZoomConfigPmi:function(e){let t,o,n=e.option_schedulefor_host;if(n){let t=e.assistants;"array"===$.type(t)&&$.each(t,(function(e,t){if(t.id===n)return o=t.roomid,!1}))}else o=e.PMI;t="0"!==o&&e.option_use_pmi,i.saveValue("zoom_config_pmi",t),i.resetShowDisablePmiMsg(e)},resetShowDisablePmiMsg:function(e){if(!e)return;let t=i.getShowDisablePmiMsg();(void 0===t.me||!1===t.me&&"0"!==e.PMI)&&(t.me=!0);let o=e.assistants;"array"===$.type(o)&&$.each(o,(function(e,o){let n=o.id,a=o.roomid;"000-000-000"===a&&(a="0"),(void 0===t[n]||!1===t[n]&&"0"!==a)&&(t[n]=!0)})),i.setShowDisablePmiMsg(t)},setShowDisablePmiMsg:function(e){e=e||"",i.saveValue("showDisablePmiMsg",JSON.stringify(e))},getShowDisablePmiMsg:function(){let e={};try{e=JSON.parse(i.getValue("showDisablePmiMsg"))||{}}catch(e){}return e},setEnableDC:function(e){e=e||"",i.saveValue("enableDC",JSON.stringify(e))},getEnableDC:function(){let e="";try{e=JSON.parse(i.getValue("enableDC"))||""}catch(e){}return e},getMeetingPwdSettingsMap:function(){let e="";try{e=JSON.parse(i.getValue("meetingPwdSettingsMap"))||""}catch(e){}return e},setUpdateAuthOptionItem:function(e){e=e||"",i.saveValue("updateAuthOptionItem",JSON.stringify(e))},getUpdateAuthOptionItem:function(){let e="";try{e=JSON.parse(i.getValue("updateAuthOptionItem"))||""}catch(e){}return e},saveSyncTime:function(e){i.saveValue("zoom_sync_date",e.getTime())},removeZoomData:function(){i.removeValue("zoom_data")},getZoomDataModifiedDate:function(){var e=i.getValue("zoom_token_modified_date");if(e)return new Date(parseInt(e,10))},saveZoomDataModifiedDate:function(e){i.saveValue("zoom_token_modified_date",e.getTime())},removeZoomDataModifiedDate:function(){i.removeValue("zoom_token_modified_date")},getZoomSSOValidDate:function(){var e=i.getValue("zoom_sso_login_time");if(e)return new Date(parseInt(e,10))},saveZoomSSOValidDate:function(e){var t=i.getValue("zoom_sso_exp"),o=e.getTime();o+=t?1e3*t:2592e6,i.saveValue("zoom_sso_login_time",o)},removeZoomSSOValidDate:function(){i.removeValue("zoom_sso_login_time")},hasZoomRqToken:function(){return!!i.getZoomZakRequestToken()},getZoomZakRequestToken:function(){var e=i.getZoomDataModifiedDate(),t=i.getExpirationTime();if(!e||e&&new Date-e>t)i.clearAllData();else{if(!(2==i.getValue("zoom_auth_type")&&i.getValue("zoom_sso_exp")<2592e3&&i.getZoomSSOValidDate()-new Date<0))return i.getValue("zoom_zak");i.clearAllData()}},ssoCheck:function(e,t,o,n,a){i.removeValue("zoom_govurl"),i._ssoCheck(i.getUserBaseUrl()+"mimo/ssocheck",e,t,o,n,a)},govSsoCheck:function(e,t,o,n,a){i._ssoCheck(e+"/mimo/ssocheck",t,o,n,a,(function(){}))},_ssoCheck:function(e,t,o,n,a,i){$.ajax({type:"POST",timeout:6e3,url:e,data:t,headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status&&e.result&&e.result.ssoVanityUrl?o(e.result.ssoVanityUrl):e.status&&e.result&&e.result.redirectUrl?i(e.result.redirectUrl):n()},complete:function(){a()}})},toSync:function(e,t){if(i.hasZoomRqToken()){var o=new Date,a=new Date,r=i.getValue("zoom_sync_date");a=r?new Date(parseInt(r,10)):new Date(o.getTime()-1728e5);var s={ext_version:n.a.extVersion,snstype:1,accesstoken:""};i.populateZak(s),o-a>=432e5?(e(),$.ajax({type:"POST",timeout:5e3,url:i.getUserBaseUrl()+i.loginUrl,data:s,headers:i.getZoomHeader(),dataType:"json",success:function(e){if(e.status){var t=e.result;if("object"!==$.type(t))return void i.recordZoomDataError(`${n.a.errors[1]} ${i.convertToString(t)}`,"common.js--toSync");i.saveZoomData(t),i.resetZoomOptions(t),i.saveSyncTime(new Date)}},complete:function(){t()}})):t()}else e(),t()},toSyncImmediate:function(){let e={ext_version:n.a.extVersion,snstype:1,accesstoken:""};return i.populateZak(e),$.ajax({type:"POST",timeout:5e3,url:i.getUserBaseUrl()+i.loginUrl,data:e,headers:i.getZoomHeader(),dataType:"json"}).done((function(e){if(e.status){let t=e.result;if("object"!==$.type(t))return void i.recordZoomDataError(`${n.a.errors[1]} ${i.convertToString(t)}`,"common.js--toSyncImmediate");i.saveZoomData(t),i.resetZoomOptions(t),i.saveSyncTime(new Date)}}))},remoteCheckPassword:function(e){if(i.remoteCheckPwdCache.password==e&&(new Date).getTime()-i.remoteCheckPwdCache.time<3e5){let e=function(){let e=$.Deferred();return setTimeout((function(){e.resolve(i.remoteCheckPwdCache.data)}),20),e.promise()};return $.when(e())}return i.remoteCheckPasswordCall(e)},remoteCheckPasswordCall:function(e){let t={ext_version:n.a.extVersion,password:e};return i.populateZak(t),$.ajax({type:"POST",timeout:5e3,url:i.getUserBaseUrl()+i.checkPwdUrl,data:t,headers:i.getZoomHeader(),dataType:"json"}).done((function(t){t.status||(-1==t.errorCode?t.status=!0:3403!=t.errorCode&&(t.errorMessage=n.a.errors[19])),i.remoteCheckPwdCache={password:e,data:t,time:(new Date).getTime()}}))},getEidMeetingMap:function(){let e=JSON.parse(i.getValue("zoom_eid_meeting_map"));return"object"!==$.type(e)&&"null"!==$.type(e)&&i.recordDataError(`${n.a.errors[14]} ${i.convertToString(e)}`,"common.js -- getEidMeetingMap"),e},setEidMeetingMap:function(e){"object"===$.type(e)?i.saveValue("zoom_eid_meeting_map",JSON.stringify(e)):i.recordDataError(`${n.a.errors[13]} ${i.convertToString(e)}`,"common.js -- setEidMeetingMap")},checkSyncEidMeetingMap:function(){let e=i.getEidMeetingMap();return!(e&&e.synctime&&new Date-e.synctime<432e5)},toSyncEidMeetingMap:function(e,t){},converEidMeetingMap:function(e,t,o){let n={synctime:(new Date).getTime()};$.each(e,(function(e,t){t.calendarId&&t.meetingNumber&&(n[t.calendarId]=t.meetingNumber)})),t&&o&&(n[t]=o),i.setEidMeetingMap(n)},updateEidMeetingMap:function(e,t,o){},saveZoomZakRequestToken:function(e){i.saveValue("zoom_zak",e||"")},getGoogleToken:function(){return i.getValue("google_token")},saveGoogleToken:function(e){i.saveValue("google_token",e)},getExpirationTime:function(){var e=2592e6,t=i.getValue("zoom_zak_exp");return t&&(e=1e3*parseInt(t,10)),e},removeGoogleToken:function(){i.removeValue("google_token")},clearAllData:function(){i.removeGoogleToken(),i.removeZoomData(),i.removeZoomDataModifiedDate(),i.removeValue("zoom_zpk"),i.removeValue("zoom_zak"),i.removeValue("zoom_zpk_exp"),i.removeValue("zoom_zak_exp"),i.removeValue("zoom_sso_exp"),i.removeValue("zoom_govurl"),i.removeValue("zoom_cluster"),i.removeValue("zm_haid"),i.removeValue("zm_aid"),i.removeValue("zoom_eid_meeting_map"),i.removeValue("zoom_config_one_time_pwd"),i.removeValue("zoom_config_jbh_pwd"),i.removeValue("zoom_config_all_pmi_pwd"),i.removeValue("meetingPwdSettingsMap"),i.removeValue("updateAuthOptionItem"),i.removeValue("showDisablePmiMsg"),i.removeValue("enableDC"),i.removeValue("enable_unmute_all"),i.removeValue("zoom_auth_type")},getValue:function(e){var t=localStorage.getItem(e);return null!==t&&(t=i.dataUntrans(t)),"false"!==t&&("true"===t||t)},saveValue:function(e,t){t=i.dataTrans(t),localStorage.setItem(e,t)},removeValue:function(e){localStorage.removeItem(e)},getJbhTimeMinutes:function(){let e=i.getValue("jbhTimeMinutes");return $.inArray(e,["0","5","10","15"])>-1?e:""},setJbhTimeMinutes:function(e){$.inArray(e,["0","5","10","15"])>-1?i.saveValue("jbhTimeMinutes",e):console.log("Illegal value of jbhTimeMinutes to be saved.")},getReturnChar:function(){return"Windows"===i.getOS()?"\r\n":"\r"},getOS:function(){var e=navigator.appVersion;return e.indexOf("Win")>=0?"Windows":e.indexOf("Mac")>=0?"Mac":e.indexOf("X11")>=0?"Unix":e.indexOf("Linux")>=0?"Linux":"unknown"},empty:function(){},generateAlphanumeric:function(e){let t=[],o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];for(let n=0;n<e;n++)t.push(o[parseInt(62*Math.random(),10)]);return t.join("")},dataTrans:function(e){if(5!=n.a.envIndex)return e;let t="";try{let o=i.utf8_to_b64(e),n="",a="";for(let e=0,t=o.length;e<t;e++)e%2==0?n+=o[e]:a+=o[e];let r=Math.floor(7*Math.random())+3;t=i.generateAlphanumeric(r)+i.utf8_to_b64(n+"=#=#"+a)+r}catch(t){i.sendLog({msgType:4,msg:{msg:"dataTrans failed, data: "+e,errorStack:t.stack}})}return t},dataUntrans:function(e){if(5!=n.a.envIndex)return e;let t=e;try{let o=i.b64_to_utf8(e.substring(parseInt(e[e.length-1]),e.length-1)).split("=#=#"),n=o[0],a=o[1],r="";for(let e=0,t=n.length;e<t;e++)r+=n[e],a[e]&&(r+=a[e]);t=i.b64_to_utf8(r)}catch(t){i.sendLog({msgType:4,msg:{msg:"dataUntrans failed, data: "+e,errorStack:t.stack}})}return t},utf8_to_b64:function(e){return window.btoa(unescape(encodeURIComponent(e)))},b64_to_utf8:function(e){return decodeURIComponent(escape(window.atob(e)))},popupLogin:function(e=!1){let t=parseInt(i.getValue("zoom_login_req_option_tabid")),o=parseInt(i.getValue("zoom_popup_tabpage_tabid"));isNaN(t)||isNaN(o)?i.createPopupPage(e):chrome.tabs.update(o,{active:!0},(function(){chrome.runtime.lastError&&i.createPopupPage(e)}))},createPopupPage:function(e){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){let o=t[0].id;chrome.tabs.create({url:chrome.extension.getURL("popup.html"),active:!0},(function(t){i.saveValue("zoom_login_req_option_tabid",o),i.saveValue("zoom_popup_tabpage_tabid",t.id),i.saveValue("zoom_login_req_need_reload",e)}))}))},signWithGoogle:function(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){let t=e[0].id;chrome.tabs.create({url:i.getOAuthURL(),active:!0},(function(e){i.saveValue("zoom_login_request_tabid",t),i.saveValue("zoom_oauth_tabid",e.id)}))}))},ssoSignin:function(e,t){i.ssoCheck({email:e.email,domain:e.domain},(function(e){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){let o=t[0].id;chrome.tabs.create({url:e,active:!0},(function(e){i.saveValue("zoom_login_request_tabid",o),i.saveValue("zoom_oauth_tabid",e.id)}))}))}),(function(){t({state:2,msg:n.a.errors[0]})}),(function(){t({state:3})}),(function(o){checkGovPermission((function(){i.govSsoCheck(o,{email:e.email,domain:e.domain},(function(e){i.saveValue("zoom_govurl",e.substring(0,e.indexOf("/saml/login"))+"/"),chrome.tabs.query({active:!0,currentWindow:!0},(function(t){let o=t[0].id;chrome.tabs.create({url:e,active:!0},(function(e){i.saveValue("zoom_login_request_tabid",o),i.saveValue("zoom_oauth_tabid",e.id)}))}))}),(function(){t({state:2,msg:n.a.errors[0]})}),(function(){t({state:3})}))}))}))},checkGovPermission:function(e){chrome.permissions.contains({origins:["https://*.zoomgov.com/"]},(function(t){t?e():chrome.tabs.create({url:chrome.extension.getURL("permission.html"),selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0})}))}))},getLoginUrl:function(e){var t,o=/https:\/\/([^\/]+)/gi.exec(e);return o&&o.length&&(t=o[0]),t},workemailSignin:function(e,t){i.removeValue("zoom_govurl"),i.signin(e,(function(o){if(o instanceof Object&&o.redirectUrl)i.checkGovPermission((function(){i.govSignin(e,o.redirectUrl,(function(){i.login("","",(function(){t({state:1})}),(function(){t({state:2,msg:n.a.errors[2]})}))}),(function(e){t({state:3,msg:e||n.a.errors[2]})}),(function(e){let o="";"error"===e?o=n.a.errors[3]:"timeout"===e&&(o=n.a.errors[4]),t({state:3,msg:o})}))}));else if(o.indexOf("/signin")>0){var a=o.substring(0,o.indexOf("/signin"))+"/saml/login?from=extension";chrome.tabs.create({url:a,selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0}),i.saveValue("zoom_oauth_tabid",e.id)}))}else{let a,r=i.getLoginUrl(o);a=r?r+"/"+i.loginUrl:i.getUserBaseUrl()+i.loginUrl;let s=new RegExp(`https?:\\/\\/\\w*\\.?zoom${n.a.runEnv[1]}\\.com\\.cn\\/?`,"ig").exec(o);s&&s.length&&s[0].indexOf(`zoom${n.a.runEnv[1]}.com.cn`)>0?i.checkCNPermission((function(){i._signin({email:e.email,password:e.password,type:100},r+"/signin",(function(){i._login(a,"","",(function(){t({state:1})}),(function(){t({state:2,msg:n.a.errors[2]})}))}),(function(e){t({state:2,msg:e||n.a.errors[2]})}),(function(){t({state:3,msg:""})}))})):i._login(a,"","",(function(){t({state:1})}),(function(){t({state:2,msg:n.a.errors[2]})}))}}),(function(e){t({state:2,msg:e||n.a.errors[2]})}),(function(e){let o="";"error"===e?o=n.a.errors[3]:"timeout"===e&&(o=n.a.errors[4]),t({state:3,msg:o})}))},getLoginUrl:function(e){var t,o=/https:\/\/([^\/]+)/gi.exec(e);return o&&o.length&&(t=o[0]),t},checkCNPermission:function(e){chrome.permissions.contains({origins:["https://*.zoom.com.cn/"]},(function(t){t?e():chrome.tabs.create({url:chrome.extension.getURL("permission2.html"),selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0})}))}))},getDcEnableOptions:function(e){let t=i.getEnableDC();if(!!i.getValue("zoom_config_pmi")||!e||!e.support||e.locked||!e.options||!e.options.length||!t)return"";let o=[];return $.each(e.options,(function(e,n){t[n.abbr]&&o.push(n.abbr)})),o.length?JSON.stringify(o):""},sendLogDelayTime:1e3*(5==n.a.envIndex?60:3),sendLog:function(e){if(e&&e.msg){let t="";try{e=JSON.parse(JSON.stringify(e)),i.traverseLog("msg",e.msg,e),t=i.convertToString(e.msg)}catch(e){}if(!t)return;let o={msgType:e.msgType||0,msg:t,operaType:e.operaType||0};i.logDataArr.push(o),i.logTimeDelayer||(i.logTimeDelayer=setTimeout((function(){try{i.logSender()}catch(e){}i.logTimeDelayer=null}),this.sendLogDelayTime||6e4))}},traverseLog:function(e,t,o){let n=$.type(t);"object"===n||"array"===n?$.each(t,(function(e,o){i.traverseLog(e,o,t)})):i.cleanLog(e,o)},cleanLog:function(e,t){$.inArray(e,["zak","topic","password","mtg_alternative_host"])>-1&&(t[e]="***")},logSender:function(){if(i.logDataArr.length){let e=i.getUserBaseUrl()+i.logUrl,t={msgType:0,msg:JSON.stringify(i.logDataArr),operaType:0};i.populateZak(t),i.logDataArr=[],$.ajax({type:"POST",url:e,data:t,timeout:5e3,headers:i.getZoomHeader()})}}};window.addEventListener("error",e=>{i.sendLog({msgType:1,msg:{msg:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,stack:e.error?e.error.stack:""}})},!0),t.a=i},function(e,t,o){"use strict";const n="5";try{n=parseInt(n)}catch(e){}const a=[["dev-integration.","dev"],["","dev"],["devep.","dev"],["go.",""],["us04web.",""],["",""],["devcolo.","dev"],["deva.","dev"],["local.",""]];t.a={extVersion:"1.5.7",get runEnv(){let e=a[n];return void 0===e?a[5]:e},get envIndex(){return n},errors:["No matching domain found.","zoom_data is not an Object:","Invalid email address or password.","Network error, please try again!","Request timeout, please try again!","Schedule meeting failed. Please try again.","Login failed. Please try again.","Update settings failed!","Unknown error, please refresh page and try again.","Port not exist, please refresh page and try again.","Enter valid domains. Separate multiple domains by semicolon","can't parse the event duration correctly","eid_meeting_map is not an Array:","set eidMeetingMap value is not an Object:","get eidMeetingMap value is not an Object or null:","get eidMeetingMap value is not an Object:","this eid is missing in eidMeetingMap:","Please save or cancel the result of the domians edit before continue.","Select at least 1 region","The password does not meet the requirement"],tips:["Enter valid email addresses. Separate multiple domains by semicolon","The setting is locked and cannot be changed. All of your meetings will use this setting.","You are permanently deleting this Zoom meeting. This action cannot be undone.","You have added two Zoom meetings. One of your meetings will be deleted. \n\nA new meeting is automatically created when you add a guest or a room. If you are manually adding a Zoom meeting, you only need to click “Make it a Zoom Meeting” or “Add Conferencing”.","Record the meeting automatically on the local computer","Record the meeting automatically in the cloud","Please enter a meeting password",'If you want to make changes for your personal meeting, <a href="">change PMI settings</a> here.',"If you change the settings and schedule this meeting, all previously scheduled PMI meetings will use the latest settings.","If no domains specified, any signed-in users can join","You have signed out from Zoom. Please sign in again to use Zoom service.","You have logged in successfully!","Sign in to Zoom with the following specified domains",'"Internal domain restriction" has been removed from the list, after saving this meeting, you cannot select this option again.',"Zoom meeting settings synchronization in progress...","Zoom meeting settings synchronization has been done!","Zoom meeting settings synchronization failed. Please try again later!"]}},function(e,t,o){"use strict";o(4);var n={showDomAnimate(e){let t=e.get(0);t&&(e.css({display:"block"}),t.timeout&&(clearTimeout(t.timeout),t.timeout=null),t.timeout=setTimeout((function(){e.addClass("show"),t.timeout=null}),10))},closeDomAnimate(e,t=150){let o=e.get(0);o&&(e.removeClass("show"),o.timeout&&(clearTimeout(o.timeout),o.timeout=null),o.timeout=setTimeout((function(){e.css({display:"none"}),o.timeout=null}),150))}};let a,i,r=["qwertyuiop","asdfghjkl","zxcvbnm","!@#$%^&*()","01234567890"];function s(e,t){let o=this,r=!0,s="",l="";a(e).on("focus",(function(s){s.stopPropagation(),t&&(r&&(r=!1,function(e){let t=e.getBoundingClientRect().width/2;a(".zoom-pwd-auth-pop .pop-arrow").css({left:t+"px"})}(e)),i.length&&n.showDomAnimate(a(".zoom-pwd-auth-pop")),o.checkRules(),m(this))})).on("blur",(function(e){e.stopPropagation(),t&&i.length&&n.closeDomAnimate(a(".zoom-pwd-auth-pop")),o.opt.blurCallback()})).on("input",(function(e){if(t){let{res:e,msg:t,errortype:n}=o.checkRules();e&&o.opt.conformRuleCallback()}1===(l=this.value).length&&0===s.length&&o.opt.startInputCallback(),s=l})).on("keyup",(function(e){9!=e.keyCode&&16!=e.keyCode&&(this.value=this.value.replace(/[^\w~!@#$%^&*()/\|,\.<>?"';:+\-=\[\]{}]/g,""),a("#meetingPwdDescription").text(""),40===e.keyCode&&m(this))})).on("afterpaste",(function(e){this.value=this.value.replace(/[^\w~!@#$%^&*()/\|,\.<>?"';:+\-=\[\]{}]/g,"")}))}function l(e,t,o=!0){let n=!0;return t.lengthRule>0&&(e.length>=t.lengthRule?o&&d("length"):(n=!1,o&&p("length"))),t.alpabetRule&&(!function(e){return/[A-Za-z]/.test(e)}(e)?(n=!1,o&&p("alpabet")):o&&d("alpabet")),t.numberRule&&(!function(e){return/\d/.test(e)}(e)?(n=!1,o&&p("number")):o&&d("number")),t.specialRule&&(!function(e){return/[~!@#$%^&*()/\|,\.<>?"';:_+\-=\[\]{}]/.test(e)}(e)?(n=!1,o&&p("special")):o&&d("special")),t.onlyNumberRule&&(!function(e){if("string"===a.type(e)&&0===e.length)return!0;return/\D/.test(e)}(e)?o&&d("onlyNumber"):(n=!1,o&&p("onlyNumber"))),t.combineRule&&(!function(e){return/[a-z]/.test(e)&&/[A-Z]/.test(e)}(e)?(n=!1,o&&p("upperLowerChar")):o&&d("upperLowerChar")),t.consecutiveRule>0&&(c(e,t.consecutiveRule,!0)?(n=!1,o&&p("consecutive")):o&&d("consecutive")),n}function c(e,t,o){o&&(e=e.toLowerCase());let n,a,i,r=e.length;t=parseInt(t);for(let o=0;o<=r-t;o++){n=0,a=0,i=0;for(let r=0;r<t-1;r++){if(e.charCodeAt(o+r)==e.charCodeAt(o+r+1)&&++n==t-1)return!0;if(e.charCodeAt(o+r+1)-e.charCodeAt(o+r)==1&&++a==t-1)return!0;if(e.charCodeAt(o+r)-e.charCodeAt(o+r+1)==1&&++i==t-1)return!0}if(u(e.substring(o,o+t)))return!0}return!1}function u(e){let t=[...e].reverse().join("");for(var o=0;o<r.length;o++){var n=r[o];if(-1!=n.indexOf(e)||-1!=n.indexOf(t))return!0}return!1}function d(e){i&&i.find("."+e).addClass("tick")}function p(e){i&&i.find("."+e).removeClass("tick")}function _(e){let t=[...e];for(var o=t.length-1;o>0;o--){var n=Math.floor(Math.random()*(o+1)),a=t[o];t[o]=t[n],t[n]=a}return t.join("")}function m(e){if(i.length){let t="Password must:";i.find("div").each((function(){let e=a(this);e.hasClass("tick")?t+=e.text()+", met, ":t+=e.text()+", not met, "})),a("#meetingPwdDescription").text(t),a(e).attr("aria-describedby","meetingPwdDescription")}}t.a=class{constructor(e){this.opt=Object.assign({},{blurCallback:()=>{},startInputCallback:()=>{},conformRuleCallback:()=>{}},e),this.init()}log(){console.log(this.opt)}init(){a=this.opt.jquery?this.opt.jquery:window.$;let e=this.opt.el,t=this.opt.rule;e&&(this.createMenu(e,t),s.call(this,e,t))}createMenu(e,t){let o=function(e){let t='\n        <div class="zoom-pwd-auth-pop">\n            <div class="pop-arrow"></div>\n            ',o=e.lengthRule>0||e.alpabetRule||e.numberRule||e.specialRule||e.onlyNumberRule||e.combineRule;o&&(t+='<div class="pop-title">Password must:</div>\n                    <div class="auth-list">');e.lengthRule>0&&(t+=`<div class="length">Have at least ${e.lengthRule} characters</div>`);e.alpabetRule&&(t+='<div class="alpabet">Have at least 1 letter (a, b, c...)</div>');e.numberRule&&(t+='<div class="number">Have at least 1 number (1, 2, 3...)</div>');e.specialRule&&(t+='<div class="special">Have at least 1 special character (!, @, #...)</div>');e.onlyNumberRule&&(t+='<div class="onlyNumber">Only allow numeric password</div>');e.combineRule&&(t+='<div class="upperLowerChar">Include both upper case and lower case characters</div>');o&&(t+="</div>");(o=e.consecutiveRule>0)&&(t+='<div class="pop-title">Password must NOT:</div>\n                    <div class="auth-list">');e.consecutiveRule>0&&(t+=`<div class="consecutive">Contain ${e.consecutiveRule} consecutive characters (e.g. "11111", "12345", "abcde", or "qwert")</div>`);o&&(t+="</div>");return t+='\n        </div>\n        <div id="meetingPwdDescription"></div>\n    '}(t);a(e).after(o),i=a(".zoom-pwd-auth-pop .auth-list")}checkRules(){let e=this.opt.el,t=this.opt.rule;if(e){let o=a(e).val();if(o=o?o.trim():""){if(t){return l(o,t,!0)?{res:!0,msg:""}:{res:!1,msg:"The password does not meet the requirement",errortype:1}}return{res:!0,msg:""}}return l(o,t,!0),{res:!1,msg:"Please enter a meeting password",errortype:2}}return{res:!1,msg:"Password entry box not found",errortype:3}}getPassword(){let e=this.opt.el,t="";return e&&(t=a(e).val())&&(t=t.trim()),t}static validityPassword(e,t){return!(!e||!t)&&l(e,t,!1)}static generateMeetingPassword(e,t=1){if(!e){let e="";return e=2===t?this.generateNumLetterPassword(6):this.generateNumberPassword(6)}let o=Math.max(6,e.lengthRule);if(e.onlyNumberRule)return this.generateNumberPassword(o);{let t=this.genPwdByActionableRule(e,o);if(e.consecutiveRule>0){let n=20;for(;--n>0&&c(t,e.consecutiveRule,!0);)t=n%5==0?this.genPwdByActionableRule(e,o):_(t)}return t}}static generateNumberPassword(e){let t=[];for(let o=0;o<e;o++)t.push(parseInt(10*Math.random(0,1),10));return t.join("")}static generateNumLetterPassword(e){let t="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",o=[],n=Math.floor(Math.random()*(e-1))+1;for(let a=0;a<e;a++)n>0?(o.push(t.charAt(parseInt(Math.random()*t.length))),n--):o.push(parseInt(10*Math.random()));return _(o.join(""))}static generateComplexPassword(e){const t="0123456789abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ!@#$%^&*.?+=";let o=[];for(let n=0;n<e;n++)o.push(t.charAt(parseInt(Math.random()*t.length)));return o.join("")}static genPwdByActionableRule(e,t){let o=[];if(o.push(parseInt(10*Math.random(0,1),10)),t--,e.alpabetRule){let e="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";o.push(e.charAt(parseInt(Math.random()*e.length))),t--}if(e.specialRule){let e="!@#$%^&*.?+=";o.push(e.charAt(parseInt(Math.random()*e.length))),t--}if(e.combineRule){let e="ABCDEFGHJKLMNPQRSTUVWXYZ";o.push(e.charAt(parseInt(Math.random()*e.length))),t--,e="abcdefghijkmnpqrstuvwxyz",o.push(e.charAt(parseInt(Math.random()*e.length))),t--}return _(o.join("")+this.generateComplexPassword(t))}}},,function(e,t,o){},function(e,t,o){},,,,,,,,function(e,t,o){"use strict";o.r(t);var n=o(1),a=o(0),i=(o(3),o(7)),r=o.n(i),s=o(2);o(6),o(5);$((function(){let e,t,o,i,l,c=a.a.getZoomData(),u=$("#meeting_pwd"),d=u.parents(".requirepwd"),p=`<a class="locked_by_admin" href="" aria-describedby="locktip" title="${n.a.tips[1]}"><i></i><span class="sr-only">Locked Option</span></a>`,_=null,m=!1,g=null,f=-1,h=$(".control-row.authentication"),v=$(".control-row.watermark"),b=$(".control-row.audiomark"),w=a.a.getMeetingPwdSettingsMap();try{m="true"===c.scheduleDefaultLockOption.password}catch(e){}function y(){(function(){$(".meetingtype .pmi_txt1").html(n.a.tips[7]),$(".meetingtype .pmi_txt2").html(n.a.tips[8]),$("#locktip").html(n.a.tips[1]),5!=n.a.envIndex&&$(".content-footer .controls").append('\n\t\t\t\t<button id="setting_refresh" class="btn btn-refresh" title="Click the button to synchronize the latest Settings.">\n\t\t\t\t\t<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.51175 0.333344C3.43539 0.333344 0.110196 3.6594 0.00252797 7.79301C-0.106392 12.0135 3.31895 15.636 7.45541 15.6667H7.51175C9.58999 15.6667 11.4679 14.8106 12.82 13.4178C13.3571 12.8709 13.8166 12.2371 14.1772 11.5433C14.3437 11.2251 14.1997 10.8316 13.8717 10.6961L13.8241 10.6757C13.749 10.6437 13.6714 10.6297 13.595 10.6297C13.3797 10.6297 13.1731 10.7472 13.0692 10.953C12.775 11.5343 12.3931 12.0646 11.9437 12.5233C10.8044 13.6733 9.23945 14.3889 7.51175 14.3889C3.91489 14.3889 1.02412 11.2877 1.267 7.56301C1.47107 4.43884 3.92365 1.89351 6.98217 1.63412C7.1612 1.61879 7.33648 1.61112 7.51175 1.61112C9.27701 1.61112 10.8682 2.36501 12.0075 3.55334L13.8592 5.44445H11.6182C11.2588 5.44445 10.9797 5.73834 10.9922 6.11018C11.006 6.45645 11.3064 6.72223 11.647 6.72223H15.374C15.4504 6.72223 15.5368 6.70945 15.6131 6.67112C15.6495 6.65834 15.687 6.63279 15.7258 6.62001C15.7634 6.58168 15.7872 6.55612 15.8122 6.53057C15.8761 6.47945 15.9124 6.41557 15.9499 6.3389V6.32612C15.9887 6.24945 16 6.16001 16 6.08334V2.25001C16 1.89223 15.7133 1.61112 15.374 1.61112C15.3227 1.61112 15.2714 1.61751 15.2188 1.63157C14.9371 1.70312 14.748 1.97912 14.748 2.27684V4.55001C14.748 4.55001 12.7574 2.51834 12.646 2.41612C11.3052 1.12557 9.48984 0.333344 7.51175 0.333344Z" fill="#747487"/></svg>\n\t\t\t\t\t<span class="sr-only">Refresh Set</span>\n\t\t\t\t</button>\n\t\t\t');i=new s.a({el:$("#meeting_pwd").get(0),rule:w,blurCallback:function(){k(1)},startInputCallback:function(){V(2)},conformRuleCallback:function(){V(1)}})})(),function(){c&&c.audiopac||$(".content-header > .topnav").hide();var i;c&&(i=c.lockedoptions);!function(){if(!c)return;let e,t=a.a.getValue("zoom_config_schedule_for");c.assistants&&(e=c.assistants);if(e&&e.length>0){$(".schedule-for").on("change",(function(){var e=$(this).find("option:selected").attr("data-pmi");return"0"!==e&&"000-000-000"!==e?$(".meetingtype .pmi_number").text(e):$(".meetingtype .pmi_number").text(""),G(),!1}));var o=$(".schedule-for")[0];o[0].setAttribute("data-email",c.email||""),o[0].setAttribute("data-pmi",c.PMI||"0"),$.each(e,(function(e,n){o[e+1]=new Option(n.name,n.id),o[e+1].setAttribute("data-email",n.email),"000-000-000"===n.roomid&&(n.roomid="0"),o[e+1].setAttribute("data-pmi",n.roomid||"0"),n.id==t&&$(".schedule-for").val(t)})),$(".schedule-for").trigger("change")}else $(".schedule").hide(),"0"!==c.PMI&&$(".meetingtype .pmi_number").text(c.PMI);G()}();var r=!!a.a.getValue("zoom_config_pmi");$("[name=meeting_type][value="+(r?"pmi":"onetime")+"]").prop({checked:!0}),c&&c.scheduleDefaultLockOption&&"true"===c.scheduleDefaultLockOption.usePMISchedule_locked&&E($(".meetingtype .control-row"),!0);var s=a.a.getValue("zoom_config_video_host")||"on",l=a.a.getValue("zoom_config_video_participants")||"on";$("[name=option_video_host][value="+s+"]").prop({checked:!0}),$("[name=option_video_participants][value="+l+"]").prop({checked:!0}),i&&i.hostVideo_locked&&E($(".video .video-controls-label:first"),!0);i&&i.pVideo_locked&&E($(".video .video-controls-label:last"),!0);var u=a.a.getValue("zoom_config_audio")||"both";c&&!c.option_has3rd&&($(".audio>div.controls #option_audio_3rd").parent().remove(),"other"==u&&(u="both"),$("#option_audio_both").next().text("Both"));c&&c.option_noboth&&($(".audio>div.controls #option_audio_both").parent().remove(),"both"==u&&(u="telephony"));$("[name=option_audio][value="+u+"]").prop({checked:!0}),i&&i.audio_locked&&E($(".audio .controls[role=group]"),!0);var d=!!a.a.getValue("zoom_config_jbh");$("#setting_option_jbh").prop("checked",d),d||$("#JBH_prior_start").prop("disabled",!0).css("opacity",.5);i&&i.jbh_locked&&E($(".control-row.jbh"),!0);if(c&&c.enableJBHPriorStartMeeting){$(".control-row.jbh .prior-start-cont").addClass("showme");let e=a.a.getJbhTimeMinutes();e&&(JBH_prior_start.value=e)}F(),function(){if(!c)return;let e=c.dcOptions;if(e.support&&!e.locked){let t=a.a.getEnableDC(),o=$(".dcRegions .dc-group"),n=$("#setting_option_enableDC");if(e.options.length){let t=function(e){let t="",o=e.length-1;return $.each(e,(function(e,n){e%2==0&&(t+='<div class="tablerow">'),t+=`\n\t\t\t\t<div class="tablecell">\n\t\t\t\t\t<label><input type="checkbox" name="option_dc_region" dcabbr="${U(n.abbr)}"><span>${U(n.name)}</span></label>\n\t\t\t\t</div>\n\t\t\t`,e%2==0&&e!==o||(t+="</div>")})),t}(e.options);o.html(t),function(){let e=$(".dcRegions"),t=$(".dcRegions .dc-group"),o=$("#setting_option_enableDC");t.find("input").on("change",(function(o){e.hasClass("has-error")&&B(t)})),o.on("change",(function(o){$(this).prop("checked")?e.addClass("showSubOptions"):e.removeClass("showSubOptions"),e.hasClass("has-error")&&B(t)}))}()}t&&$.each(t,(function(e,t){o.find("[dcabbr="+e+"]").prop("checked",t),t&&n.prop("checked",!0).trigger("change")}))}else $(".dcRegions").remove()}();var p=!!a.a.getValue("zoom_config_mute_upon_entry");$("#setting_option_uponentry").prop("checked",p),i&&i.mute_locked&&E($(".control-row.entry"),!0);var _=!!a.a.getValue("zoom_config_waiting_room");$("#setting_option_waitingroom").prop("checked",_),i&&i.waiting_room_locked&&E($(".control-row.waitingroom"),!0);if(c&&c.show_unmute_all){let e=!!a.a.getValue("enable_unmute_all");$("#unmute_all").prop("checked",e)}else $(".control-row.unmute_all").remove();if(function(){if(!c)return;let e=c.authentication;if(e.support){g=function(e,t){if(t){let a=!1;t.default=!0;for(var o=0,n=e.length;o<n;o++){let n=e[o];n.default&&(e[o].default=!1),n.id==t.id&&(e[o]=t,a=!0)}a||(t.del=!0,e.unshift(t))}return e}(e.optionLists,a.a.getUpdateAuthOptionItem());let{htmlText:i,selVal:r}=function(e){let t="",o="",a=-1,i="",r=e.length;if(r>1){o='<div class="select-field"><select id="sel_for_authentication">';for(var s=0;s<r;s++){let n=e[s];o+=`\n\t\t\t\t\t<option value="${s}">${U(n.name)}</option>\n\t\t\t\t`,n.default&&(t=": "+U(n.name),a=s)}o+="</select></div>",i='<div class="domain-info-field"></div>'}else 1==r?(t=": "+U(e[0].name),i='<div class="domain-info-field"></div>'):i='<div class="exception-message">This option is disabled since there is no options available for you to select. Please check your meeting settings or contact your admin.</div>';return{htmlText:`\n\t\t\t<label class="checkbox-inline"><input type="checkbox" id="setting_option_authentication" name="setting_option_authentication" />\n\t\t\t\t<optext>Only authenticated users can join<span class="name">${t}</span></optext>\n\t\t\t</label>\n\t\t\t${o}\n\t\t\t${i}\n\t\t\t<div class="del-opt-prompt">${n.a.tips[13]}</div>\n\t\t`,selVal:a}}(g);h.html(i),$("#setting_option_authentication").on("change",(function(){let e=$(this).prop("checked");e?(h.addClass("check"),S(e)):(h.removeClass("check"),S(e))})),$("#sel_for_authentication").on("change",(function(){H($(this).val(),!0)})),h.on("click",".domain-info-field .edit-button",(function(e){var a;e.stopPropagation(),o||$("#edit_domain_dialog").length||($("body").append(`\n\t\t\t<dialog id="edit_domain_dialog">\n\t\t\t\t<h4 class="title">View/edit domains</h4>\n\t\t\t\t<p class="notification">${n.a.tips[12]}</p>\n\t\t\t\t<div class="input-cont">\n\t\t\t\t\t<textarea id="auth_domain_info" name="auth_domain_info" placeholder="" value="" aria-label=""></textarea>\n\t\t\t\t\t<span class="has-error help-block" style="display: none;"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class="btns-cont">\n\t\t\t\t\t<button class="btn btn-Cancel">Cancel</button>\n\t\t\t\t\t<button class="btn btn-Save">Save</button>\n\t\t\t\t</div>\n\t\t\t</dialog>\n\t\t`),t=$("#edit_domain_dialog"),o=t.get(0),function(){t.on("click",".btn-Cancel",(function(e){e.stopPropagation(),X(o)})),$(document).on("keydown",(function(e){27===e.keyCode&&"open"===t.attr("open")&&(e.preventDefault(),X(o))})),t.on("click",".btn-Save",(function(e){e.stopPropagation(),T()?(function(){let e=P($("#auth_domain_info").val()),t=$("#sel_for_authentication").val()||0,o=g[t];o&&o.domain&&(o.domain=e,H(t))}(),X(o)):$("#auth_domain_info").focus()}));let e=null,n=t.find(".btn-Save");t.find("#auth_domain_info").keyup((function(t){let o=this;return e&&clearTimeout(e),e=setTimeout((function(){T(),o.value!==o.originalValue?n.prop("disabled",!1):n.prop("disabled",!0),e=null}),500),!1}))}(),$(".authentication").hasClass("haslock")&&(t.addClass("haslocked"),t.find("#auth_domain_info").prop("disabled",!0),t.find(".btn-Save").remove())),function(){let e=g[$("#sel_for_authentication").val()||0];if(e&&e.domain){let o=t.find("#auth_domain_info");o.val(e.domain),o.get(0).originalValue=e.domain}t.find(".btn-Save").prop("disabled",!0)}(),(a=o)&&!$(a).attr("open")&&(a.showModal(),$(a).addClass("show"))})),h.on("click",".nooption",(function(e){var t;e.stopPropagation(),q.is(":visible")?N():((t=q).css({display:"block"}),t.timeout&&(clearTimeout(t.timeout),t.timeout=null),t.timeout=setTimeout((function(){t.addClass("show"),t.timeout=null}),10),R=setTimeout((function(){W(q),R=null}),5e3))})),function(e,t){let o=$("#setting_option_authentication");e>-1?(sel_for_authentication.value=e,$("#sel_for_authentication").trigger("change")):h.find(".domain-info-field").length&&H(0,!0);let n=!!a.a.getValue("enableAuthentication");o.prop("checked",n),o.trigger("change"),t.locked&&E($(".authentication > label"),!0);if(!g.length){o.prop("checked",!1),o.prop("disabled",!0),o.parent().addClass("nooption");let e=(new Date).getTime();$("body").on("scroll",(function(t){let o=(new Date).getTime();o-e>1e3&&(N(),e=o)}))}}(r,e)}else h.html("").hide(),v.html("").hide(),b.html("").hide()}(),c&&c.option_enable_watermark){var m=!!a.a.getValue("zoom_config_watermark");$("#setting_option_watermark").prop("checked",m),i&&i.watermark_locked&&($("#setting_option_watermark").prop("checked",!0),E($(".control-row.watermark"),!0))}else $("#setting_option_watermark").parents("div.control-row").remove();if(c&&c.scheduleDefaultLockOption&&"true"===c.scheduleDefaultLockOption.audioWaterMark){var f=!!a.a.getValue("zoom_config_audiomark");$("#setting_option_audiomark").prop("checked",f),"true"===c.scheduleDefaultLockOption.audioWaterMark_locked&&($("#setting_option_audiomark").prop("checked",!0),E($(".control-row.audiomark"),!0))}else $("#setting_option_audiomark").parents("div.control-row").remove();if(c&&c.option_haspublic_cal){var w=!!a.a.getValue("zoom_config_public_cal");$("#setting_option_public_cal").prop("checked",w),i&&i.public_cal_locked&&E($(".control-row.pubcalendar"),!0)}else $("#setting_option_public_cal").parents("div.control-row").remove();if(c&&c.recording&&c.recording.option_recording){$("div.recording").removeClass("hideme");var y=a.a.getValue("zoom_config_rectype")||0;1==y||2==y?$("#setting_recording_type").prop("checked",!0):$("#setting_recording_type").prop("checked",!1),c&&c.recording.option_local_recording&&c.recording.option_cloud_recording?($("#setting_recording_type").prop("checked")||$(".recording-radio").hide(),2==y?$("[name=option_rec_type][value="+y+"]").prop({checked:!0}):$("[name=option_rec_type][value=1]").prop({checked:!0})):c&&c.recording.option_local_recording?($("#setting_recording_type").next().append(" on the local computer"),$(".recording-radio").remove()):($("#setting_recording_type").next().append(" in the cloud"),$(".recording-radio").remove()),i&&i.autoRecordLocked&&E($(".recording > label"),!0)}var k=!0;null!=a.a.getValue("zoom_config_joinurl")&&(k=!!a.a.getValue("zoom_config_joinurl"));$("#setting_option_joinurl").prop("checked",k),c&&!0===c.option_enable_reg?c.scheduleDefaultLockOption&&"true"===c.scheduleDefaultLockOption.usePMISchedule_locked?$("#setting_option_requirereg").prop({disabled:!0}):!0===a.a.getValue("zoom_option_require_reg")&&$("#setting_option_requirereg").prop({checked:!0}).attr("checked","checked").trigger("change"):$(".requirereg").hide();c?void 0===c.alt_hosts?$(".altnativehost").hide():$("#alternative_host").val(a.a.getValue("zoom_config_althost")||""):$(".altnativehost").hide();$("#fixed_popup").prop("checked",!!a.a.getValue("zoom_config_fixed_popup"));var z=parseInt(a.a.getValue("zoom_config_pacindex")||"1",10);(isNaN(z)||z<1||z>2)&&(z=1,a.a.saveValue("zoom_config_pacindex","1"));c&&c.audiopac&&(e=c.audiopac);if(e&&e.option_pac_enable){var V=z-1;e.acclist.length<2&&($("#option_pac_acc2").parent().remove(),V=0,z=1),$("[name=option_pac][value="+z+"]").prop("checked",!0);var D=e.acclist[V],M=$(".pac").find(".pac-toll-numbers");$.each(D.toll_numbers,(function(e,t){M.append("<label>"+U(t)+"</label>")})),$(".pac").find(".pac-mtg-number").text(D.meeting_number),D.did_numbers&&""!=D.did_numbers?$(".pac").find(".pac-did-numbers").html("<label>"+U(D.did_numbers)+"</label>"):$(".pac").find(".pac-did-numbers").parent().hide()}a.a.getValue("zoom_config_fte")&&parseInt(a.a.getValue("zoom_options_tabid"))>0?($("#setting_submit").text("Save and Continue"),$("#setting_cancel").hide(),$("#setting_refresh").hide()):($("#setting_submit").text("Save"),$("#setting_cancel").show(),$("#setting_refresh").show());x()}(),function(){$("body").on("click","a",(function(e){e.preventDefault(),e.stopPropagation()})),$("#setting_option_needpassword").change((function(){C()})),$("#setting_option_requirereg").change((function(){$("#setting_option_requirereg").prop("checked")&&!$("#meeting_type_normal").prop("checked")&&($("#meeting_type_normal").prop("checked",!0),$("#meeting_type_normal").trigger("change"))})),$("[name=meeting_type]").change((function(){x(),F(!0,!0)})),$("#setting_option_jbh").change((function(){"pmi"===$("[name=meeting_type]:checked").val()&&m&&F(!0),$(this).prop("checked")?$("#JBH_prior_start").prop("disabled",!1).css("opacity",1):$("#JBH_prior_start").prop("disabled",!0).css("opacity",.5)})),$("#setting_recording_type").change((function(){$("#setting_recording_type").prop("checked")||!1?$(".recording-radio").show():$(".recording-radio").hide()}));let t=null;$("#alternative_host").keyup((function(e){return $(this).val().length>0?(t&&clearTimeout(t),t=window.setTimeout((function(){O(),t=null}),500)):($("#alternative_host").parent().removeClass("has-error"),$("#alternative_host").next().hide()),!1})),$(".topnav").delegate("li[data-tab]","click",(function(e){O()&&($(this).hasClass("active")||($(".topnav > li").removeClass("active"),$(this).addClass("active"),$(".content-body > form >div.tab-pane").hide(),$(".content-body > form >div."+$(this).data("tab")).show()),e.preventDefault(),e.stopPropagation())})),$("[name=option_pac]").change((function(){var t=parseInt($(this).val(),10)-1;if(e&&e.option_pac_enable){var o=e.acclist[t],n=$(".pac").find(".pac-toll-numbers").empty();$.each(o.toll_numbers,(function(e,t){n.append("<label>"+U(t)+"</label>")})),$(".pac").find(".pac-mtg-number").text(o.meeting_number),o.did_numbers&&""!=o.did_numbers?($(".pac").find(".pac-did-numbers").html("<label>"+U(o.did_numbers)+"</label>"),$(".pac").find(".pac-did-numbers").parent().show()):$(".pac").find(".pac-did-numbers").parent().hide()}}));let o=null;$("#setting_submit").on("click",(function(e){if(e.stopPropagation(),!this.waitCheckPwd){if(a.a.hasZoomRqToken()){if($("#setting_option_needpassword").prop("checked")&&u.is(":visible")){if($(".requirepwd").hasClass("has-error"))return void u.focus();this.waitCheckPwd=!0,o&&clearTimeout(o),o=setTimeout(()=>{this.waitCheckPwd=!1,o=null},3e3),k(2)}else j();return!1}a.a.popupLogin(!0)}})),$("#setting_cancel").click((function(){return chrome.tabs.getCurrent((function(e){chrome.tabs.remove(e.id,(function(){}))})),!1})),$("#setting_refresh").on("click",(function(e){e.stopPropagation();let t=$(this);t.hasClass("loading")||(t.addClass("loading"),t.add("#setting_submit").prop("disabled",!0),a.a.hasZoomRqToken()?a.a.toSyncImmediate().done((function(e){e.status&&"object"===$.type(e.result)?window.location.reload():(Z(),M(n.a.errors[7],!0))})).fail((function(){Z(),M(n.a.errors[7],!0)})):(Z(),a.a.popupLogin(!0)))})),$(":checkbox").click((function(){$(this).attr("checked",!$(this).attr("checked"))})),$(":radio").click((function(){var e=$(this).attr("name");$("[name="+e+"]").not(this).attr("checked",!1),$(this).attr("checked",!0)}))}()}function k(e){let t=i.getPassword();if(t!==l||!$(".requirepwd").hasClass("has-error"))if(l=t,w.enhanceDetectionRule&&t)a.a.remoteCheckPassword(t).done((function(t){z(t.status,t.errorMessage,1,e)})).fail((function(){let{res:t,msg:o,errortype:n}=i.checkRules();z(t,o,n,e)}));else{let{res:t,msg:o,errortype:n}=i.checkRules();z(t,o,n,e)}}function z(e,t,o,n){e||!t||1===n&&2===o?V():function(e,t){d.addClass("has-error").attr("errortype",t);let o=d.find(".has-error");o.text(e).addClass("showme"),1===t?o.attr("role","alert"):o.attr("role",null)}(t,o),2===n&&j(e)}function V(e){d.hasClass("has-error")&&(e&&e!=d.attr("errortype")||(d.removeClass("has-error").attr("errortype",null),d.find(".has-error").removeClass("showme").attr("role",null)))}var D;function M(e,t,o,n){var a=$("#content_success_msg");t?a.removeClass("alert-success").addClass("alert-danger"):a.addClass("alert-success").removeClass("alert-danger"),n=n||5e3,(o=o||a).html(e);var i=(parseInt($(document.body).outerWidth(!0))-a.outerWidth(!0))/2;o===a&&o.css("left",i),D&&window.clearTimeout(D),o.fadeIn("slow"),D=window.setTimeout((function(){o.fadeOut("slow")}),n)}function S(e){e?(v.show(),b.show()):(v.hide(),b.hide())}function C(){$("#setting_option_needpassword").prop("checked")||!1?$(".requirepwd").addClass("sel"):$(".requirepwd").removeClass("sel")}function x(){$("#meeting_type_pmi").prop("checked")||!1?($(".pmi_txt2").show(),$("#setting_option_requirereg").prop("checked",!1).attr("checked",null),$(".requirepwd").addClass("show-input-pwd"),$(".control-row.jbh").addClass("pmi"),$(".dcRegions").addClass("pmi")):($(".pmi_txt2").hide(),$(".requirepwd").removeClass("show-input-pwd"),$(".control-row.jbh").removeClass("pmi"),$(".dcRegions").removeClass("pmi"))}function T(){let e=!0,t=$("#auth_domain_info");return t.is(":visible")&&$("#setting_option_authentication").prop("checked")&&(!function(e){if(!e)return!1;var t=$.trim(e).split(/[;,\n\r]+/);let o=!0;for(var n in t)e=$.trim(t[n]),o=o&&I("a@"+e);return!0===o}(t.val())?(J(t,n.a.errors[10]),e=!1):B(t)),e}function P(e){let t="";return $.each($.trim(e).split(/[;,\n\r]+/),(e,o)=>{e>0&&(t+=","),t+=$.trim(o)}),t}function O(){var e=!0;return $("#alternative_host").is(":visible")&&""!=$("#alternative_host").val()&&(!function(e){var t=$.trim(e).split(/[;,\n\r]+/);if(""==t)return!0;let o=!0;for(var n in t){var a=$.trim(t[n]);o=o&&I(a)}return!0===o}($("#alternative_host").val())?($("#alternative_host").parent().addClass("has-error"),$("#alternative_host").focus().next().show(),$("#alternative_host").next().text(n.a.tips[0]),e=!1):($("#alternative_host").parent().removeClass("has-error"),$("#alternative_host").next().hide())),e}function j(e){if($("#setting_submit")[0].waitCheckPwd=!1,void 0!==e&&!e)return void u.focus();$(".topnav").is(":visible")&&$(".topnav li:last-child").hasClass("active")&&$(".topnav li:first-child").click();let t=$("#setting_option_jbh").prop("checked"),o="pmi"===$("[name=meeting_type]:checked").val(),i=$("#unmute_all").is(":visible")&&$("#unmute_all").prop("checked");a.a.saveValue("zoom_config_schedule_for",$(".schedule-for").val()),a.a.saveValue("zoom_config_pmi",o),a.a.saveValue("zoom_config_jbh",t),a.a.saveValue("zoom_config_mute_upon_entry",$("#setting_option_uponentry").prop("checked")),a.a.saveValue("zoom_config_waiting_room",$("#setting_option_waitingroom").prop("checked")),a.a.saveValue("enable_unmute_all",i),a.a.saveValue("zoom_config_public_cal",$("#setting_option_public_cal").is(":visible")&&$("#setting_option_public_cal").prop("checked")),a.a.saveValue("zoom_config_video_host",$("[name=option_video_host]:checked").val()),a.a.saveValue("zoom_config_video_participants",$("[name=option_video_participants]:checked").val()),a.a.saveValue("zoom_config_audio",$("[name=option_audio]:checked").val()),a.a.saveValue("zoom_config_pacindex",$("[name=option_pac]:checked").val()||"1"),a.a.saveValue("zoom_config_watermark",$("#setting_option_watermark").is(":visible")&&$("#setting_option_watermark").prop("checked")),a.a.saveValue("zoom_config_audiomark",$("#setting_option_audiomark").is(":visible")&&$("#setting_option_audiomark").prop("checked")),a.a.saveValue("zoom_config_joinurl",$("#setting_option_joinurl").prop("checked")),a.a.saveValue("zoom_option_require_reg",$("#setting_option_requirereg").prop("checked"));let r=$("#JBH_prior_start");!o&&t&&r.is(":visible")&&a.a.setJbhTimeMinutes(r.val());var s=-1,l=a.a.getZoomData();if($("#setting_recording_type").is(":visible")&&(s=$("#setting_recording_type").prop("checked")?l&&l.recording.option_local_recording&&l.recording.option_cloud_recording?$("[name=option_rec_type]:checked").val():l&&l.recording.option_local_recording?1:2:0),$("#setting_option_enableDC").is(":visible"))if($("#setting_option_enableDC").prop("checked")){let e=$(".dcRegions .dc-group"),t=e.find("input:checked");if(!t.length)return void J(e,n.a.errors[18]);{let e={};t.each((function(t){let o=$(this).attr("dcabbr");o&&(e[o]=!0)})),a.a.setEnableDC(e)}}else a.a.setEnableDC("");a.a.saveValue("zoom_config_rectype",s),a.a.saveValue("zoom_config_fixed_popup",$("#fixed_popup").is(":visible")&&$("#fixed_popup").prop("checked"));let c,d=L(),p=$("#setting_option_authentication").is(":visible")&&$("#setting_option_authentication").prop("checked");if(a.a.saveValue("enableAuthentication",p),p&&(c=function(){let e=g[$("#sel_for_authentication").val()||0];if(e&&e.id)return{name:e.name,type:e.type,id:e.id,domain:e.domain||void 0};return""}())&&a.a.setUpdateAuthOptionItem(c),!O())return!1;!function(){let e=$("#alternative_host").val();$("#alternative_host").is(":visible")&&e&&$("#alternative_host").val(P(e))}();var _={};_.zoom_config_schedule_for=$(".schedule-for").val(),_.zoom_config_pmi=o,_.zoom_config_jbh=t,_.public_cal=$("#setting_option_public_cal").is(":visible")&&$("#setting_option_public_cal").prop("checked"),_.mute_upon_entry=$("#setting_option_uponentry").prop("checked"),_.waiting_room=$("#setting_option_waitingroom").prop("checked"),_.zoom_config_video_host=$("[name=option_video_host]:checked").val(),_.zoom_config_video_participants=$("[name=option_video_participants]:checked").val(),_.zoom_config_audio=$("[name=option_audio]:checked").val(),_.zoom_config_pacindex=$("[name=option_pac]:checked").val(),_.record_type=s,_.zoom_config_watermark=$("#setting_option_watermark").is(":visible")&&$("#setting_option_watermark").prop("checked"),_.zoom_config_audiomark=$("#setting_option_audiomark").is(":visible")&&$("#setting_option_audiomark").prop("checked"),_.zoom_config_alternativehost=$("#alternative_host").val(),_.zoom_config_fixed_popup=$("#fixed_popup").is(":visible")&&$("#fixed_popup").prop("checked"),_.zoom_config_joinurl=$("#setting_option_joinurl").prop("checked"),_.require_reg=$("#setting_option_requirereg").prop("checked"),_.enableAuthentication=p,_.updateAuthOptionItem=JSON.stringify(a.a.getUpdateAuthOptionItem()),_.enable_unmute_all=i,_.enableDC=JSON.stringify(a.a.getEnableDC()),Object.assign(_,d),u.is(":visible")?_.pmi_saved_pwd=u.val().trim():_.pmi_saved_pwd=a.a.getValue("zoom_config_pmi_saved_pwd");let m=$("#setting_submit");m.addClass("loading"),m.add("#setting_refresh").prop("disabled",!0),a.a.getValue("zoom_config_fte")&&parseInt(a.a.getValue("zoom_options_tabid"))>0?a.a.saveZoomSetting(_,(function(){a.a.saveValue("zoom_config_fte",!1),a.a.saveValue("zoom_config_althost",$("#alternative_host").val()),u.is(":visible")&&a.a.saveValue("zoom_config_pmi_saved_pwd",u.val().trim()),chrome.tabs.update(parseInt(a.a.getValue("zoom_options_tabid")),{url:a.a.getGoogleCalendarUrl()},(function(e){}))}),(function(e){$("#alternative_host").parent().addClass("has-error"),$("#alternative_host").focus().next().text(e.errorMessage),$("#alternative_host").focus().next().show()}),(function(){a.a.popupLogin(!0)}),(function(){A()})):a.a.saveZoomSetting(_,(function(){a.a.saveValue("zoom_config_althost",$("#alternative_host").val()),u.is(":visible")&&a.a.saveValue("zoom_config_pmi_saved_pwd",u.val().trim()),M("Your settings have been saved.")}),(function(e){$("#alternative_host").parent().addClass("has-error"),$("#alternative_host").focus().next().text(e.errorMessage),$("#alternative_host").focus().next().show()}),(function(){a.a.popupLogin(!0)}),(function(){A()}))}function Z(){let e=$("#setting_refresh");e.removeClass("loading"),e.add("#setting_submit").prop("disabled",!1),e.get(0).focus()}function A(){let e=$("#setting_submit");e.removeClass("loading"),e.add("#setting_refresh").prop("disabled",!1)}function I(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)}function U(e){return r.a.sanitize(e,{SAFE_FOR_JQUERY:!0})}function F(e,t){let o,n,i=!1,r=!1;e?(o=!!$("#setting_option_jbh").prop("checked"),n="pmi"===$("[name=meeting_type]:checked").val()):(o=!!a.a.getValue("zoom_config_jbh"),n=!!a.a.getValue("zoom_config_pmi"),_=null);let s=!1,l=!1;try{s="true"===c.scheduleDefaultLockOption.password_locked,l="true"===c.scheduleDefaultLockOption.password4PMI_locked}catch(e){}if(n){let t=a.a.getValue("zoom_config_jbh_pwd"),n=!!a.a.getValue("zoom_config_all_pmi_pwd");m?(i=e?!!o||!!$("#setting_option_needpassword").prop("checked"):!(!o||!s)||(null===t?o:!!t),o&&(r=s)):n?(i=!0,r=l):(i=!1,r=l)}else{i=!!a.a.getValue("zoom_config_one_time_pwd");try{r="true"===c.scheduleDefaultLockOption.password4Schedule_locked}catch(e){}}t&&(null===_||s&&n&&o||(i=_),_=!!$("#setting_option_needpassword").prop("checked")),$("#setting_option_needpassword").prop("checked",i),E($(".requirepwd > label"),!!r);let d=a.a.getPmiSavedPwd();d&&u.val(d),C()}function E(e,t){t?e.closest(".control-row").hasClass("haslock")||(e.append(p).closest(".control-row").addClass("haslock"),e.find("input").prop("disabled",!0)):(e.find(".locked_by_admin").remove(),e.closest(".control-row").removeClass("haslock"),e.find("input").prop("disabled",!1))}function L(){let e="pmi"===$("[name=meeting_type]:checked").val(),t=$("#setting_option_needpassword").prop("checked"),o={},n=!!a.a.getValue("zoom_config_one_time_pwd"),i=!!a.a.getValue("zoom_config_jbh_pwd"),r=!!a.a.getValue("zoom_config_all_pmi_pwd"),s=!1;try{s="true"===c.scheduleDefaultLockOption.password4PMI}catch(e){}return e?m?(a.a.saveValue("zoom_config_jbh_pwd",t),o.option_password4Schedule=n,o.option_password=t,o.option_password4PMI=r):(a.a.saveValue("zoom_config_all_pmi_pwd",t),o.option_password4Schedule=n,o.option_password=i,o.option_password4PMI=t):(a.a.saveValue("zoom_config_one_time_pwd",t),o.option_password4Schedule=t,o.option_password=i,o.option_password4PMI=r),o}parseInt(a.a.getValue("dataVersion"))>0?y():(M("Updating Settings data online...",!1,null,5e3),a.a.toSyncImmediate().done((function(e){M("Network update data successfully!",!1,null,2e3),a.a.saveValue("dataVersion","1"),y()})).fail((function(){M("Network update data failed!",!0,null,2e3),a.a.saveValue("dataVersion","1"),y()})));var R,q=$(".authentication .exception-message");function N(){R&&(clearTimeout(R),R=null,W(q))}function H(e,t){let o=g[e];if(h.find(".name").text(": "+o.name),"1"==o.type){let e,t,n=o.domain||"",a=0;e=n.length>84?n.slice(0,83)+"...":n,t=(a=n.split(/,|;/).length)>0?`View/edit all ${a} domains`:"edit domain";let i=`\n\t\t\t<span class="domain-info-text">${U(e)}</span><span class="edit-button">${t}</span>\n\t\t\t`;h.find(".domain-info-field").html(i).addClass("eyeable")}else h.find(".domain-info-field").html("").removeClass("eyeable");if(t){let t=g[f];t&&t.del?h.find(".del-opt-prompt").show():h.find(".del-opt-prompt").hide(),f=e}}function J(e,t){e.length&&(e.parent().addClass("has-error"),e.focus().next().text(t).show())}function B(e){e.length&&(e.parent().removeClass("has-error"),e.next().text("").hide())}function X(e){e&&$(e).hasClass("show")&&($(e).removeClass("show"),t.find("input").val("").trigger("keyup"),B($("#auth_domain_info")),setTimeout((function(){e.close()}),150))}function W(e){e.removeClass("show"),e.timeout&&(clearTimeout(e.timeout),e.timeout=null),e.timeout=setTimeout((function(){e.css({display:"none"}),e.timeout=null}),150)}function G(){if($(".schedule").is(":visible")){let e=$(".schedule-for"),t=e.val();"0"!==e.find("option:selected").attr("data-pmi")?Y():Q(t||"me")}else{"0"!==(c.PMI||"0")?Y():Q("me")}}function Y(){let e=$(".meetingtype");e.is(":visible")||(e.removeClass("hideme"),$(".disable-pmi-msg").removeClass("showme"))}function Q(e){let t=$(".meetingtype");t.is(":visible")&&($("#meeting_type_normal").prop("checked",!0),$("#meeting_type_normal").trigger("change"),t.addClass("hideme")),function(e){a.a.getShowDisablePmiMsg()[e]?function(){if(!$(".disable-pmi-msg").length){$(".tab-pane.first-tab").prepend('<div class="disable-pmi-msg"><div>Your Personal Meeting ID is disabled<close></close></div></div>');let e=$(".disable-pmi-msg");e.find("close").on("click",(function(t){t.stopPropagation(),e.removeClass("showme");let o=a.a.getShowDisablePmiMsg();o[function(){if($(".schedule").is(":visible")){let e=$(".schedule-for").val();return e||(e="me"),e}return"me"}()]=!1,a.a.setShowDisablePmiMsg(o)}))}$(".disable-pmi-msg").addClass("showme")}():$(".disable-pmi-msg").removeClass("showme")}(e)}}))}]);