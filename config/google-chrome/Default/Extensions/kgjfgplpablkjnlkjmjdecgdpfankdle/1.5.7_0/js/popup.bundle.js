!function(e){function t(t){for(var n,r,s=t[0],l=t[1],u=t[2],m=0,d=[];m<s.length;m++)r=s[m],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(c&&c(t);d.length;)d.shift()();return i.push.apply(i,u||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,s=1;s<o.length;s++){var l=o[s];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},a={7:0,2:0},i=[];function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;i.push([20,1,0]),o()}({0:function(e,t,o){"use strict";var n=o(1),a=o(2);let i={baseUrl:`https://${n.a.runEnv[0]}zoom${n.a.runEnv[1]}.us/`,loginUrl:"mimo/login",logoutUrl:"mimo/logout",scheduleMeetingUrl:"mimo/schedule",schedulePMIMeetingUrl:"mimo/pmi",schedulePACMeetingUrl:"mimo/schedule_pac",editMeetingUrl:"mimo/editMeeting",deleteMeetingUrl:"mimo/deleteMeeting",validateTokenURL:"mimo/validtoken",saveSettingURL:"mimo/save_setting",validAlternativeHost:"mimo/valid_althost",syncEidMeetingMapUrl:"mimo/getWebExtMapping",updateTimeAndTimezoneUrl:"mimo/updateScheduleTimeAndTimezone",logUrl:"mimo/log4zm",checkPwdUrl:"mimo/checkMeetingPassword",instantMeetingUrl:"mimo/instant",logTimeDelayer:null,logDataArr:[],remoteCheckPwdCache:{},populateZak:function(e){var t=i.getZoomZakRequestToken();t&&$.extend(e,{zak:t})},getOAuthURL:function(){return`https://${n.a.runEnv[0]}zoom${n.a.runEnv[1]}.us/mimo/google_signin`},schedulePACMeeting:function(e,t,o){var n=i.getUserBaseUrl()+i.schedulePACMeetingUrl,a=i.getValue("zoom_config_pacindex")||"1";isNaN(parseInt(a,10))&&(a="1");var r={selectedPAC:a,trackfields:e.trackfields};i.populateZak(r),$.ajax({type:"POST",url:n,data:r,timeout:1e4,headers:i.getZoomHeader(),dataType:"json",success:function(e){e.status?(e.result&&(i.saveZoomZakRequestToken(e.result._zm_zak),i.saveZoomDataModifiedDate(new Date),e.result.addJoinUrl=null==i.getValue("zoom_config_joinurl")||!!i.getValue("zoom_config_joinurl")),t(e)):o(e)},error:function(e){o(e)}})},scheduleMeeting:function(e,t,o){i._scheduleMeeting(!0,e,t,o)},encodeHtml:function(e){return"string"!=typeof e?e:e.replace(/"|&|'|<|>|[\x00-\x20]|[\x7F-\xFF]|[\u0100-\u2700]/g,(function(e){var t=e.charCodeAt(0),o=["&#"];return t=32==t?160:t,o.push(t),o.push(";"),o.join("")}))},checkNeedPassword:function(){let e=!!i.getValue("zoom_config_pmi"),t=!!i.getValue("zoom_config_jbh"),o=i.getValue("zoom_config_jbh_pwd"),n=i.getZoomData(),a=!1,r=!1;try{a="true"===n.scheduleDefaultLockOption.password}catch(e){}let s=!1;try{s="true"===n.scheduleDefaultLockOption.password_locked}catch(e){}return r=e?a?!(!t||!s)||(null===o?t:!!o):!!i.getValue("zoom_config_all_pmi_pwd"):!!i.getValue("zoom_config_one_time_pwd")},checkNeedPasswordForPopup:function(){let e=!!i.getValue("zoom_config_pmi"),t=!!i.getValue("zoom_config_jbh"),o=i.getZoomData(),n=!1;try{n="true"===o.scheduleDefaultLockOption.password_locked}catch(e){}let a=i.getValue("zoom_config_jbh_pwd"),r=!1,s=!1,l=!1;try{r="true"===o.scheduleDefaultLockOption.password}catch(e){}if(e)if(r)t&&n?s=!0:null===a?s=t:!(s=!!a)&&t&&(s=!0,l=!0);else{s=!!i.getValue("zoom_config_all_pmi_pwd");let e=!1;try{e="true"===o.scheduleDefaultLockOption.password4PMI}catch(e){}!s&&e&&(s=!0,l=!0)}else s=!1;return{needPassword:s,voidable:l}},editNeedPasswordState:function(e){e=!!e;let t=!!i.getValue("zoom_config_pmi"),o=!1;try{o="true"===i.getZoomData().scheduleDefaultLockOption.password}catch(e){}t?o?i.saveValue("zoom_config_jbh_pwd",e):i.saveValue("zoom_config_all_pmi_pwd",e):i.saveValue("zoom_config_one_time_pwd",e)},_scheduleMeeting:function(e,t,o,r){var s=!!i.getValue("zoom_config_jbh"),l=i.checkNeedPassword(),u=!!i.getValue("zoom_config_mute_upon_entry"),c=!!i.getValue("zoom_config_public_cal"),m=i.getValue("zoom_config_video_host")||"off",d=i.getValue("zoom_config_video_participants")||"off",p=i.getValue("zoom_config_audio")||"both",g=i.getValue("zoom_config_schedule_for")||"",_=i.getValue("zoom_config_rectype"),f=i.getZoomData();let h="";try{let e=i.getZoomData().enableJBHPriorStartMeeting;!i.getValue("zoom_config_pmi")&&s&&e&&(h=i.getJbhTimeMinutes())}catch(e){console.log(e)}var v="",b=!1,y={};i.populateZak(y);var z=i.getUserBaseUrl()+i.scheduleMeetingUrl;if(l){let e=t.password;if(e&&""!=e)v=e;else if(!i.getValue("zoom_config_pmi")){let e=f&&f.iSFreeAccount?2:1,t=i.getMeetingPwdSettingsMap();t.enhanceDetectionRule?b=!0:v=a.a.generateMeetingPassword(t,e)}}var w="Zoom Meeting";if(f){var V=f.assistants;g&&V&&V.length>0?$.each(V,(function(e,t){t.id==g&&(w=i.resolveUserName(t.name)+" Zoom Meeting")})):w=i.resolveUserName(f.displayName)+" Zoom Meeting";let e=f.authentication;if(e&&e.support&&(y.enableAuthentication=!!i.getValue("enableAuthentication"),y.enableAuthentication))try{let e=i.getUpdateAuthOptionItem();"object"==$.type(e)&&(y.authOptionsJson=JSON.stringify({selectAuthName:e.name,option_enforce_signed_in:parseInt(e.type),selectAuthId:e.id,authDomain:e.domain}),y.option_enforce_signed_in=parseInt(e.type))}catch(e){console.log(e),i.sendLog({msgType:4,msg:{msg:"append authOptionsJson failed",function:"_scheduleMeeting",errorStack:e.stack}})}let t=f.dcOptions,o=i.getDcEnableOptions(t);o&&(y.dcEnableOptions=o)}var k=i.getValue("zoom_config_althost");k&&""!=k&&$.extend(y,{mtg_alternative_host:k.replace(/,/g,";")}),$.extend(y,{ext_version:n.a.extVersion,topic:w,scheduleTime:t.scheduleTime,option_jbh:s,mute_upon_entry:u,public_cal:c,password:v,option_video_host:m,option_video_participants:d,option_schedule_for:g,option_audio_type:p,option_record_type:_,trackfields:t.trackfields,timezone:t.timezone,jbhTimeMinutes:h,use_pmi:!!i.getValue("zoom_config_pmi"),enable_unmute_all:!!i.getValue("enable_unmute_all"),backendGeneratePwd:b}),i._ajaxScheduleMtg(e,z,y,o,r)},_ajaxScheduleMtg:function(e,t,o,a,r){$.ajax({type:"POST",url:t,data:o,async:e,timeout:15e3,headers:i.getZoomHeader(),dataType:"json",success:function(e){e.status?(e.result&&(i.saveZoomZakRequestToken(e.result._zm_zak),i.saveZoomDataModifiedDate(new Date),e.result.addJoinUrl=null==i.getValue("zoom_config_joinurl")||!!i.getValue("zoom_config_joinurl")),a(e)):201==e.errorCode?(i.clearAllData(),r(e)):3001==e.errorCode?alert(e.errorMessage):3105==e.errorCode?(r({syncState:1,errorMessage:n.a.tips[14]}),i.toSyncImmediate().done((function(e){r({syncState:2,errorMessage:n.a.tips[15]})})).fail((function(){r({syncState:3,errorMessage:n.a.tips[16]})}))):(3068==e.errorCode&&i.editNeedPasswordState(!0),r(e))},error:function(e){let t={};e&&e.statusText&&(t.errorMessage=e.statusText),r(t)}}),i.sendLog({msgType:5,msg:{msg:"Send a schedule meeting request, method name: _ajaxScheduleMtg",parameters:o},operaType:3})},editMeeting:function(e,t,o){e={ext_version:n.a.extVersion,meetingNumber:e.number,duration:e.duration,scheduleTime:e.startTime,timezone:e.timezone,isRepeat:e.isRepeat,zoomrooms:e.zoomrooms,topic:e.topic,zm_eid:e.zm_eid,event_baseid:e.event_baseid||""};i.populateZak(e),$.ajax({type:"POST",url:i.getUserBaseUrl()+i.editMeetingUrl,data:e,headers:i.getZoomHeader(),dataType:"json",success:function(n){n.status?(e.meetingNumber&&e.zm_eid&&i.updateEidMeetingMap(e.zm_eid,e.meetingNumber,e.event_baseid),t(n)):201==n.errorCode?i.clearAllData():o(n)}}),i.sendLog({msgType:5,msg:{msg:"Send a editMeeting request, method name: editMeeting",parameters:e},operaType:3})},createMeetingMp:function(e,t,o){e={ext_version:n.a.extVersion,meeting_number:e.number,calendarId:e.calendarId,event_baseid:e.event_baseid||""};i.populateZak(e),$.ajax({type:"POST",url:i.getUserBaseUrl()+"mimo/crmapping",data:e,headers:i.getZoomHeader(),dataType:"json",success:function(n){n.status?(i.updateEidMeetingMap(e.calendarId,e.meeting_number,e.event_baseid),t(n)):o(n)}}),i.sendLog({msgType:5,msg:{msg:"Send a crmapping request, method name: createMeetingMp",parameters:e},operaType:3})},removeMeetingMp:function(e,t,o){e={ext_version:n.a.extVersion,zm_eid:e.calendarId||"",event_baseid:e.event_baseid||""};i.populateZak(e),$.ajax({type:"POST",url:i.getUserBaseUrl()+i.deleteMeetingUrl,data:e,headers:i.getZoomHeader(),dataType:"json",success:function(n){n.status?((e.zm_eid||e.event_baseid)&&i.updateEidMeetingMap(e.zm_eid,"",e.event_baseid),t(n)):o(n)}}),i.sendLog({msgType:5,msg:{msg:"Send a delete meeting request, method name: removeMeetingMp",parameters:e},operaType:3})},getMeetingMp:function(e,t,o){e={calendarId:e.calendarId};i.populateZak(e),$.ajax({type:"POST",url:i.getUserBaseUrl()+"mimo/getmapping",data:e,headers:i.getZoomHeader(),dataType:"json",success:function(e){e.status?t(e):o(e)}})},deleteMeeting:function(e,t,o){e={ext_version:n.a.extVersion,number:e.number,zm_eid:e.zm_eid||"",event_baseid:e.event_baseid||""};i.populateZak(e),$.ajax({type:"POST",url:i.getUserBaseUrl()+i.deleteMeetingUrl,data:e,timeout:1e4,headers:i.getZoomHeader(),dataType:"json",success:function(n){n.status?(e.zm_eid&&i.updateEidMeetingMap(e.zm_eid,e.number,e.event_baseid),t(n)):o(n)},error:function(e){o(e)}}),i.sendLog({msgType:5,msg:{msg:"Send a delete meeting request, method name: deleteMeeting",parameters:e},operaType:3})},updateMeetingTimeAndTimezone:function(e,t,o){},getZoomSetting:function(){var e={};let t=i.getZoomData()||{};e.zoom_config_schedule_for=i.getValue("zoom_config_schedule_for"),e.zoom_assistants=t.assistants,e.zoom_config_video_host=i.getValue("zoom_config_video_host")||"off",e.zoom_config_video_participants=i.getValue("zoom_config_video_participants")||"off",e.zoom_config_audio=i.getValue("zoom_config_audio")||"both",e.zoom_config_hasOther=!!t.option_has3rd,e.zoom_config_noBoth=!!t.option_noboth,e.zoom_config_jbh=!!i.getValue("zoom_config_jbh"),e.jbhTimeMinutes=i.getJbhTimeMinutes(),e.enableJBHPriorStartMeeting=!!t.enableJBHPriorStartMeeting,e.zoom_config_watermark=!!i.getValue("zoom_config_watermark"),e.zoom_config_audiomark=!!i.getValue("zoom_config_audiomark"),e.zoom_config_mute_upon_entry=!!i.getValue("zoom_config_mute_upon_entry"),e.zoom_config_waiting_room=!!i.getValue("zoom_config_waiting_room"),e.zoom_config_hasPubCal=!!t.option_haspublic_cal,e.zoom_config_public_cal=!!i.getValue("zoom_config_public_cal"),e.zoom_config_pmi=!!i.getValue("zoom_config_pmi"),e.zoom_config_pmiNum=t.PMI,e.zoom_config_pmi_saved_pwd=i.getPmiSavedPwd(),e.zoom_config_one_time_pwd=i.getValue("zoom_config_one_time_pwd"),e.zoom_config_jbh_pwd=i.getValue("zoom_config_jbh_pwd"),e.zoom_config_all_pmi_pwd=i.getValue("zoom_config_all_pmi_pwd"),e.authentication=t.authentication,e.enableAuthentication=!!i.getValue("enableAuthentication"),e.updateAuthOptionItem=i.getUpdateAuthOptionItem(),e.zoom_support_althost=!(void 0===t.alt_hosts),e.zoom_config_althost=i.getValue("zoom_config_althost"),e.zoom_config_fixed_popup=!!i.getValue("zoom_config_fixed_popup"),e.zoom_config_enable_watermark=!!t.option_enable_watermark,e.zoom_config_enable_audiomark=!!t.scheduleDefaultLockOption&&"true"===t.scheduleDefaultLockOption.audioWaterMark,e.zoom_audiomarkLocked=!!t.scheduleDefaultLockOption&&"true"===t.scheduleDefaultLockOption.audioWaterMark_locked,e.zoom_config_joinurl=null==i.getValue("zoom_config_joinurl")||!!i.getValue("zoom_config_joinurl"),e.zoom_trackfields=t.trackfields,e.zoom_record_type=i.getValue("zoom_config_rectype");try{e.zoom_local_record=t.recording.option_local_recording,e.zoom_cloud_record=t.recording.option_cloud_recording}catch(t){e.zoom_local_record=!1,e.zoom_cloud_record=!1}e.lockOpts=t.lockedoptions,e.host_email=t.email||"",e.option_enable_reg=Boolean(t.option_enable_reg),e.zoom_option_require_reg=Boolean(i.getValue("zoom_option_require_reg")),e.pmi_jbh2pwd=!!t.option_pmi_jbhpwd;var o=!1;t.scheduleDefaultLockOption&&"true"===t.scheduleDefaultLockOption.usePMISchedule_locked&&(o=!0),e.schedulePmiLock=o,e.jbhPwd_default=!1,e.jbhLock=!1,e.allPimLock=!1,e.oneTimeLock=!1;try{e.jbhPwd_default="true"===t.scheduleDefaultLockOption.password,e.allPmiPwd_default="true"===t.scheduleDefaultLockOption.password4PMI,e.jbhLock="true"===t.scheduleDefaultLockOption.password_locked,e.allPimLock="true"===t.scheduleDefaultLockOption.password4PMI_locked,e.oneTimeLock="true"===t.scheduleDefaultLockOption.password4Schedule_locked}catch(e){}return e.dcOptions=t.dcOptions,e.enableDC=i.getEnableDC(),e.showDisablePmiMsg=i.getShowDisablePmiMsg(),e.show_unmute_all=t.show_unmute_all,e.enable_unmute_all=!!i.getValue("enable_unmute_all"),e},updateZoomSetting:function(e,t){i.saveValue("zoom_config_schedule_for",e.zoom_config_schedule_for),i.saveValue("zoom_config_video_host",e.zoom_config_video_host),i.saveValue("zoom_config_video_participants",e.zoom_config_video_participants),i.saveValue("zoom_config_audio",e.zoom_config_audio),i.saveValue("zoom_config_jbh",e.zoom_config_jbh),i.saveValue("zoom_config_watermark",e.zoom_config_watermark),i.saveValue("zoom_config_audiomark",e.zoom_config_audiomark),i.saveValue("zoom_config_mute_upon_entry",e.mute_upon_entry),i.saveValue("zoom_config_waiting_room",e.waiting_room),i.saveValue("zoom_config_public_cal",e.public_cal),i.saveValue("zoom_config_pmi",e.zoom_config_pmi),i.saveValue("zoom_config_one_time_pwd",e.option_password4Schedule),i.saveValue("zoom_config_jbh_pwd",e.option_password),i.saveValue("zoom_config_all_pmi_pwd",e.option_password4PMI),e.zoom_config_pacindex=i.getValue("zoom_config_pacindex"),i.saveValue("enableAuthentication",e.enableAuthentication),e.updateAuthOptionItem&&i.setUpdateAuthOptionItem(e.updateAuthOptionItem),e.updateAuthOptionItem=JSON.stringify(i.getUpdateAuthOptionItem()),e.jbhTimeMinutes&&(i.setJbhTimeMinutes(e.jbhTimeMinutes),delete e.jbhTimeMinutes),i.saveValue("zoom_config_althost",e.zoom_config_alternativehost),i.saveValue("zoom_config_rectype",e.record_type),i.saveValue("zoom_config_joinurl",e.zoom_config_joinurl),i.saveValue("zoom_option_require_reg",e.zoom_option_require_reg),e.zoom_config_fixed_popup=i.getValue("zoom_config_fixed_popup"),e.require_reg=e.zoom_option_require_reg,delete e.zoom_option_require_reg,e.zoom_config_pmi_saved_pwd?(e.pmi_saved_pwd=e.zoom_config_pmi_saved_pwd,delete e.zoom_config_pmi_saved_pwd):e.pmi_saved_pwd=i.getPmiSavedPwd(),void 0!==e.enableDC&&i.setEnableDC(e.enableDC),e.enableDC=JSON.stringify(i.getEnableDC()),e.showDisablePmiMsg&&(i.setShowDisablePmiMsg(e.showDisablePmiMsg),delete e.showDisablePmiMsg),i.saveValue("enable_unmute_all",e.enable_unmute_all),i.saveZoomSetting(e,t,(function(e){}),(function(){}))},updateSettingForQucik:function(e,t){let o=i.getLocalStorageZoomOptions();if(e.changepwd&&(i.saveValue("zoom_config_pmi_saved_pwd",e.password),o.pmi_saved_pwd=e.password),e.mandatorypwd){let e=!1;try{e="true"===i.getZoomData().scheduleDefaultLockOption.password}catch(e){}e?(i.saveValue("zoom_config_jbh_pwd",!0),o.option_password=!0):(i.saveValue("zoom_config_all_pmi_pwd",!0),o.option_password4PMI=!0)}i.saveZoomSetting(o,t,(function(e){}),(function(){}))},getLocalStorageZoomOptions:function(){return{zoom_config_schedule_for:i.getValue("zoom_config_schedule_for"),zoom_config_pmi:!!i.getValue("zoom_config_pmi"),zoom_config_jbh:!!i.getValue("zoom_config_jbh"),public_cal:!!i.getValue("zoom_config_public_cal"),mute_upon_entry:!!i.getValue("zoom_config_mute_upon_entry"),waiting_room:!!i.getValue("zoom_config_waiting_room"),zoom_config_video_host:i.getValue("zoom_config_video_host")||"off",zoom_config_video_participants:i.getValue("zoom_config_video_participants")||"off",zoom_config_audio:i.getValue("zoom_config_audio")||"both",zoom_config_pacindex:i.getValue("zoom_config_pacindex"),record_type:i.getValue("zoom_config_rectype"),zoom_config_watermark:!!i.getValue("zoom_config_watermark"),zoom_config_audiomark:!!i.getValue("zoom_config_audiomark"),zoom_config_alternativehost:i.getValue("zoom_config_althost"),zoom_config_fixed_popup:!!i.getValue("zoom_config_fixed_popup"),zoom_config_joinurl:null==i.getValue("zoom_config_joinurl")||!!i.getValue("zoom_config_joinurl"),require_reg:!!i.getValue("zoom_option_require_reg"),pmi_saved_pwd:i.getPmiSavedPwd(),option_password4Schedule:!!i.getValue("zoom_config_one_time_pwd"),option_password:!!i.getValue("zoom_config_jbh_pwd"),option_password4PMI:!!i.getValue("zoom_config_all_pmi_pwd"),enableAuthentication:!!i.getValue("enableAuthentication"),updateAuthOptionItem:JSON.stringify(i.getUpdateAuthOptionItem()),enableDC:JSON.stringify(i.getEnableDC())}},validAlternateHost:function(e,t,o){var n={alternativehost:e};i.populateZak(n),$.ajax({type:"POST",url:i.getUserBaseUrl()+i.validAlternativeHost,data:n,async:!1,timeout:6e3,headers:i.getZoomHeader(),dataType:"json",success:function(e){t(e)},error:function(e){o(e)}})},checkSyncForDataVersion:function(){parseInt(i.getValue("dataVersion"))>0||i.toSyncImmediate().done((function(e){i.saveValue("dataVersion","1")})).fail((function(){i.saveValue("dataVersion","1")}))},saveZoomSetting:function(e,t,o,a,r){e.zoom_config_alternativehost=(e.zoom_config_alternativehost||"").replace(/,/g,";");var s={ext_version:n.a.extVersion};i.populateZak(s),$.extend(s,e),$.ajax({type:"POST",url:i.getUserBaseUrl()+i.saveSettingURL,timeout:1e4,data:s,headers:i.getZoomHeader(),dataType:"json",success:function(e){var n=e.result;e&&e.status?(i.saveZoomZakRequestToken(n._zm_zak),i.saveZoomDataModifiedDate(new Date),i.saveValue("zoom_config_fte",!1),t()):1113==e.errorCode||1114==e.errorCode||1115==e.errorCode?o(e):201==e.errorCode?"function"===$.type(a)&&a():alert(e.errorMessage)},complete:function(){"function"===$.type(r)&&r()}})},govLogin:function(e,t,o,n,a,r,s,l){var u=i.getUserBaseUrl()+i.loginUrl;if(e)return u+="?r_uid=1",void i._termAndlogin(t,o,u,a,s,l);n&&(u=n+"/mimo/login"),i._login(u,a,r,s,l)},login:function(e,t,o,n){i._login(i.getUserBaseUrl()+i.loginUrl,e,t,o,n)},_ssologin:function(e,t,o,n,a){var r=e+"/"+i.loginUrl;e||(r=i.getUserBaseUrl()+i.loginUrl),i._login(r,t,o,n,a)},_login:function(e,t,o,a,r){$.ajax({type:"POST",url:e,data:{snstype:1,accesstoken:t},headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){if(e.status){var t=e.result;if("object"!==$.type(t))return void i.recordZoomDataError(`${n.a.errors[1]} ${i.convertToString(t)}`,"common.js--_login");i.saveZoomData(t),i.resetZoomOptions(t),i.saveSyncTime(new Date),i.toSyncEidMeetingMap(),a()}else i.clearAllData(),r(e.errorCode)},error:function(){i.clearAllData(),r()}})},_termAndlogin:function(e,t,o,a,r,s){$.ajax({type:"POST",url:o,data:{snstype:1,first_name:e,last_name:t,term:!0,accesstoken:a},headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){if(e.status){var t=e.result;if("object"!==$.type(t))return void i.recordZoomDataError(`${n.a.errors[1]} ${i.convertToString(t)}`,"common.js--_termAndlogin");i.saveZoomData(t),i.resetZoomOptions(t),i.saveSyncTime(new Date),i.toSyncEidMeetingMap(),r()}else i.clearAllData(),s()},error:function(){i.clearAllData(),s()}})},signin:function(e,t,o,n){$.ajax({type:"POST",timeout:15e3,url:i.getUserBaseUrl()+"signin",data:e,headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?t(e.result):1002==e.errorCode?o():o(e.errorMessage)},complete:function(e,t){n(t)}})},govSignin:function(e,t,o,n,a){i.saveValue("zoom_govurl",t.substring(0,t.indexOf("/signin"))+"/"),$.ajax({type:"POST",timeout:15e3,url:t,data:e,headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?o(e.result):1002==e.errorCode?n():n(e.errorMessage)},complete:function(e,t){a(t)}})},_signin:function(e,t,o,n,a){$.ajax({type:"POST",timeout:15e3,url:t,data:e,headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?o(e.result):1002==e.errorCode?n():n(e.errorMessage)},complete:function(){a()}})},logout:function(e,t){var o=i.getZoomZakRequestToken(),n={};i.populateZak(n),o?$.ajax({type:"POST",timeout:1e4,url:i.getUserBaseUrl()+i.logoutUrl,data:n,headers:i.getZoomHeader(),dataType:"json",success:function(t){i.clearAllData(),e()},error:function(){i.clearAllData(),e()}}):(i.clearAllData(),e())},resolveZoomUrl:function(e){return e},getMeetingWithVideoUrl:function(){return i.resolveZoomUrl(i.getUserBaseUrl()+"start/videomeeting")},getMeetingWithoutVideoUrl:function(){return i.resolveZoomUrl(i.getUserBaseUrl()+"start/webmeeting")},startInstantMeeting:function(e){let t={ext_version:n.a.extVersion};return i.populateZak(t),$.ajax({type:"POST",timeout:5e3,url:i.getUserBaseUrl()+i.instantMeetingUrl,data:t,headers:i.getZoomHeader(),dataType:"json"}).done((function(t){t.status&&(e?chrome.tabs.create({url:i.getMeetingWithVideoUrl()}):chrome.tabs.create({url:i.getMeetingWithoutVideoUrl()}))}))},getMyMeetingsUrl:function(){return i.getUserBaseUrl()+"profile"},getUserBaseUrl:function(){var e=i.baseUrl,t=i.getZoomData(),o=i.getValue("zoom_govurl")||"";return o?e=o:t&&t._zm_baseurl&&""!=t._zm_baseurl&&(e=i.replaceComDomain(t._zm_baseurl+"/")),e},replaceComDomain:function(e){return e},getZoomHeader:function(){return{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":i.getClusterHeader(),"X-Requested-From":"ZOOM-EXTENSION","x-zm-haid":i.getHaidHeader(),"x-zm-aid":i.getAidHeader()}},getClusterHeader:function(){return i.getValue("zoom_cluster")||""},getHaidHeader:function(){return i.getValue("zm_haid")||""},getAidHeader:function(){return i.getValue("zm_aid")||""},getGoogleCalendarUrl:function(e){function t(e){return e.toISOString().replace(/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.\d+Z/gi,"$1$2$3T$4$5$6Z")}Date.prototype.addHours=function(e){return this.setHours(this.getHours()+e),this};var o,n,a=new Date;return a.setHours(a.getHours()+1),a.setMinutes(0),o=t(a),a.setHours(a.getHours()+1),n="http://calendar.google.com/calendar/event?action=TEMPLATE",n+="&dates=",n+=o+"/"+t(a),n+="&trp=true&zoomrd="+a.getTime(),e&&(n+="&zoompmi=true"),n},resolveUserName:function(e){return"s"===(e=$.trim(e)).charAt(e.length-1)?e+"'":e+"'s"},getZoomData:function(){let e="";try{e=JSON.parse(i.getValue("zoom_data"))}catch(e){}return e},saveZoomData:function(e){i.dataValidityCheck(e),i.saveValue("zoom_data",JSON.stringify(e)),i.saveZoomDataModifiedDate(new Date),i.saveZoomZakRequestToken(e._zm_zak),i.saveValue("zoom_zak_exp",e._zm_zak_exp||""),i.saveValue("zoom_locale",e._zm_locale),i.saveValue("zoom_sso_exp",e._zm_sso_exp||"2592000")},dataValidityCheck:function(e){if($.inArray(e.option_video_host,["on","off"])<0&&(i.recordZoomDataError(`option_video_host illegal: ${i.convertToString(e.option_video_host)}`),e.option_video_host="on"),$.inArray(e.option_video_participant,["on","off"])<0&&(i.recordZoomDataError(`option_video_participant illegal: ${i.convertToString(e.option_video_participant)}`),e.option_video_participant="on"),$.inArray(e.option_audio_type,["telephony","voip","both","other"])<0&&(i.recordZoomDataError(`option_audio_type illegal: ${i.convertToString(e.option_audio_type)}`),e.option_audio_type="both"),$.inArray(e.option_pmi_jbhpwd,[!0,!1])<0&&(i.recordZoomDataError(`option_pmi_jbhpwd illegal: ${i.convertToString(e.option_pmi_jbhpwd)}`),e.option_pmi_jbhpwd=!1),$.inArray(e.option_require_jbh,[!0,!1])<0&&(i.recordZoomDataError(`option_require_jbh illegal: ${i.convertToString(e.option_require_jbh)}`),e.option_require_jbh=!1),$.inArray(e.option_use_pmi,[!0,!1])<0&&(i.recordZoomDataError(`option_use_pmi illegal: ${i.convertToString(e.option_use_pmi)}`),e.option_use_pmi=!1),$.inArray(e.option_require_pwd,[!0,!1])<0&&(i.recordZoomDataError(`option_require_pwd illegal: ${i.convertToString(e.option_require_pwd)}`),e.option_require_pwd=!1),$.inArray(e.option_pwd_type,["1","2"])<0&&(i.recordZoomDataError(`option_pwd_type illegal: ${i.convertToString(e.option_pwd_type)}`),e.option_pwd_type="1"),$.inArray(e.option_joinurl,[!0,!1])<0&&(i.recordZoomDataError(`option_joinurl illegal: ${i.convertToString(e.option_joinurl)}`),e.option_joinurl=!1),$.inArray(e.option_watermark,[!0,!1])<0&&(i.recordZoomDataError(`option_watermark illegal: ${i.convertToString(e.option_watermark)}`),e.option_watermark=!1),$.inArray(e.option_audio_watermark,[!0,!1,void 0])<0&&(i.recordZoomDataError(`option_audio_watermark illegal: ${i.convertToString(e.option_audio_watermark)}`),delete e.option_audio_watermark),$.inArray(e.option_mute_upon_entry,[!0,!1])<0&&(i.recordZoomDataError(`option_mute_upon_entry illegal: ${i.convertToString(e.option_mute_upon_entry)}`),e.option_mute_upon_entry=!1),$.inArray(e.option_waiting_room,[!0,!1])<0&&(i.recordZoomDataError(`option_waiting_room illegal: ${i.convertToString(e.option_waiting_room)}`),e.option_waiting_room=!1),$.inArray(e.option_public_cal,[!0,!1])<0&&(i.recordZoomDataError(`option_public_cal illegal: ${i.convertToString(e.option_public_cal)}`),e.option_public_cal=!1),"object"!==$.type(e.scheduleDefaultLockOption)&&(i.recordZoomDataError(`scheduleDefaultLockOption illegal: ${i.convertToString(e.scheduleDefaultLockOption)}`),e.scheduleDefaultLockOption={}),$.inArray(e.option_fte,[!0,!1])<0&&(i.recordZoomDataError(`option_fte illegal: ${i.convertToString(e.option_fte)}`),e.option_fte=!1),"string"!==$.type(e.option_schedulefor_host)&&(i.recordZoomDataError(`option_schedulefor_host illegal: ${i.convertToString(e.option_schedulefor_host)}`),e.option_schedulefor_host=""),void 0===e.option_pacindex?e.option_pacindex="1":$.inArray(e.option_pacindex,["1","2"])<0&&(i.recordZoomDataError(`option_pacindex illegal: ${i.convertToString(e.option_pacindex)}`),e.option_pacindex="1"),$.inArray(e.option_enforce_login,[!0,!1])<0&&(i.recordZoomDataError(`option_enforce_login illegal: ${i.convertToString(e.option_enforce_login)}`),e.option_enforce_login=!1),"string"!==$.type(e.option_domain_info)&&(i.recordZoomDataError(`option_domain_info illegal: ${i.convertToString(e.option_domain_info)}`),e.option_domain_info=""),void 0!==e.alt_hosts&&""!==e.alt_hosts&&"array"!==$.type(e.alt_hosts)&&(i.recordZoomDataError(`alt_hosts illegal: ${i.convertToString(e.alt_hosts)}`),e.alt_hosts=""),$.inArray(e.option_fixed_popup,[!0,!1])<0&&(i.recordZoomDataError(`option_fixed_popup illegal: ${i.convertToString(e.option_fixed_popup)}`),e.option_fixed_popup=!1),null===e._zm_locale?e._zm_locale="en_US":"string"!==$.type(e._zm_locale)&&(i.recordZoomDataError(`_zm_locale illegal: ${i.convertToString(e._zm_locale)}`),e._zm_locale="en_US"),$.inArray(e.option_record_type,[-1,0,1,2])<0&&(i.recordZoomDataError(`option_record_type illegal: ${i.convertToString(e.option_record_type)}`),e.option_record_type=-1),"string"!==$.type(e._zm_cluster)&&(i.recordZoomDataError(`_zm_cluster illegal: ${i.convertToString(e._zm_cluster)}`),e._zm_cluster=""),$.inArray(e.option_require_reg,[!0,!1])<0&&(i.recordZoomDataError(`option_require_reg illegal: ${i.convertToString(e.option_require_reg)}`),e.option_require_reg=!1),"string"!==$.type(e.option_pmi_savepwd)&&(i.recordZoomDataError(`option_pmi_savepwd illegal: ${i.convertToString(e.option_pmi_savepwd)}`),e.option_pmi_savepwd=""),void 0===e.authentication)e.authentication={support:!1,enable:!1,locked:!1,optionLists:[],updateItem:"",enableAuthentication:!1};else if("object"!==$.type(e.authentication))i.recordZoomDataError(`authentication illegal: ${i.convertToString(e.authentication)}`),e.authentication={support:!1,enable:!1,locked:!1,optionLists:[],updateItem:"",enableAuthentication:!1};else{if("string"!==$.type(e.authentication.updateItem))i.recordZoomDataError(`authentication.updateItem illegal: ${i.convertToString(e.authentication.updateItem)}`),e.authentication.updateItem="";else{let t=e.authentication.updateItem;if(t)try{e.authentication.updateItem=JSON.parse(t)||""}catch(t){i.recordZoomDataError(`authentication.updateItem cannot be parsed into a json object: ${i.convertToString(e.authentication.updateItem)}`),e.authentication.updateItem=i.getUpdateAuthOptionItem()}}if("array"!==$.type(e.authentication.optionLists))i.recordZoomDataError(`authentication.optionLists illegal: ${i.convertToString(e.authentication.optionLists)}`),e.authentication.optionLists=[];else{let n=e.authentication.optionLists;for(var t=0,o=n.length;t<o;t++){let o=n[t];"object"!==$.type(o)&&(i.recordZoomDataError(`authentication.optionLists's items illegal: ${i.convertToString(o)}`),e.authentication.optionLists.splice(t,1),t--)}if(e.authentication.updateItem)if(e.authentication.enable){let t=i.getType0ItemInAuth(e.authentication.optionLists);t&&0==e.authentication.updateItem.type&&t.id!==e.authentication.updateItem.id&&(e.authentication.updateItem="")}else 1==n.length&&0==e.authentication.updateItem.type&&(e.authentication.optionLists=[])}}if(null===e.meetingPwdSettingsMap)e.meetingPwdSettingsMap="";else if("object"!==$.type(e.meetingPwdSettingsMap))i.recordZoomDataError(`meetingPwdSettingsMap illegal: ${i.convertToString(e.meetingPwdSettingsMap)}`),e.meetingPwdSettingsMap="";else if($.isEmptyObject(e.meetingPwdSettingsMap))e.meetingPwdSettingsMap="";else{$.each(e.meetingPwdSettingsMap,(function(t,o){"true"===o?e.meetingPwdSettingsMap[t]=!0:"false"!==o&&void 0!==o||(e.meetingPwdSettingsMap[t]=!1)}));try{let t=parseInt(e.meetingPwdSettingsMap.lengthRule);e.meetingPwdSettingsMap.lengthRule=isNaN(t)?0:t}catch(t){e.meetingPwdSettingsMap.lengthRule=0}try{let t=parseInt(e.meetingPwdSettingsMap.consecutiveRule);e.meetingPwdSettingsMap.consecutiveRule=isNaN(t)?0:t}catch(t){e.meetingPwdSettingsMap.consecutiveRule=0}}if("object"!==$.type(e.dcOptions))i.recordZoomDataError(`dcOptions illegal: ${i.convertToString(e.dcOptions)}`),e.dcOptions={support:!1,locked:!0,options:[]};else{let t=e.dcOptions;if("boolean"!==$.type(t.support)&&(t.support=!1),"boolean"!==$.type(t.locked)&&(t.locked=!1),"string"===$.type(t.enableDC))if(t.enableDC)try{t.enableDC=JSON.parse(t.enableDC),"object"!==$.type(t.enableDC)&&(t.enableDC=void 0)}catch(e){t.enableDC=void 0}else t.enableDC=void 0;else void 0!==t.enableDC&&(t.enableDC=void 0);"array"!==$.type(t.options)&&(t.options=[])}"boolean"!==$.type(e.show_unmute_all)&&(e.show_unmute_all=!1),"boolean"!==$.type(e.enable_unmute_all)&&(e.enable_unmute_all=!1)},getType0ItemInAuth:function(e){for(var t=0,o=e.length;t<o;t++){let o=e[t];if(o&&"0"==o.type)return o}return""},convertToString:function(e){if(Object.is(e,NaN)||void 0===e)return String(e);{let t="";try{t=JSON.stringify(e)}catch(t){i.sendLog({msgType:4,msg:{msg:"convertToString failed, data: "+e,errorStack:t.stack}})}return t}},recordZoomDataError:function(e,t){t=t||"common.js -- dataValidityCheck",i.sendLog({msgType:1,msg:{tag:"zoom_data error",msg:e,source:t}})},recordDataError:function(e,t){i.sendLog({msgType:1,msg:{tag:"data error",msg:e,source:t}})},getPmiSavedPwd:function(){return i.pwdDataValidity(i.getValue("zoom_config_pmi_saved_pwd"))},pwdDataValidity:function(e){return e=$.trim(e).slice(0,10)},resetZoomOptions:function(e){i.saveValue("zoom_config_video_host",e.option_video_host),i.saveValue("zoom_config_video_participants",e.option_video_participant),i.saveValue("zoom_config_audio",e.option_audio_type),i.saveValue("zoom_config_one_time_pwd",!!e.option_password4Schedule),void 0!==e.option_password&&i.saveValue("zoom_config_jbh_pwd",!!e.option_password),i.saveValue("zoom_config_all_pmi_pwd",!!e.option_password4PMI),i.saveValue("zoom_config_jbh",e.option_require_jbh),i.saveValue("zoom_config_joinurl",!!e.option_joinurl),i.saveValue("zoom_config_watermark",e.option_watermark),i.saveValue("zoom_config_audiomark",!!e.option_audio_watermark),i.saveValue("zoom_config_mute_upon_entry",e.option_mute_upon_entry),i.saveValue("zoom_config_waiting_room",e.option_waiting_room),i.saveValue("zoom_config_public_cal",e.option_public_cal),i.saveValue("zoom_config_fte",e.option_fte),i.saveValue("zoom_config_schedule_for",e.option_schedulefor_host),i.saveValue("zoom_config_pacindex",e.option_pacindex),i.saveValue("zoom_config_althost",e.alt_hosts||""),i.saveValue("zoom_config_fixed_popup",!!e.option_fixed_popup),i.saveValue("zoom_locale",e._zm_locale),i.saveValue("zoom_config_rectype",e.option_record_type),i.saveValue("zoom_cluster",e._zm_cluster||""),i.saveValue("zm_haid",e._zm_haid||""),i.saveValue("zm_aid",e._zm_aid||""),i.saveValue("zoom_option_require_reg",Boolean(e.option_require_reg)),i.saveValue("zoom_config_pmi_saved_pwd",e.option_pmi_savepwd||e.option_pmipwd||""),i.removeValue("zoom_govurl");let t,o=e.authentication;t=o.locked||void 0===o.enableAuthentication?o.enable:o.enableAuthentication,i.saveValue("enableAuthentication",Boolean(t)),i.setUpdateAuthOptionItem(o.updateItem),i.saveValue("meetingPwdSettingsMap",JSON.stringify(e.meetingPwdSettingsMap));let n=e.dcOptions.enableDC;n&&i.setEnableDC(n),i.resetZoomConfigPmi(e),i.saveValue("enable_unmute_all",e.enable_unmute_all)},resetZoomConfigPmi:function(e){let t,o,n=e.option_schedulefor_host;if(n){let t=e.assistants;"array"===$.type(t)&&$.each(t,(function(e,t){if(t.id===n)return o=t.roomid,!1}))}else o=e.PMI;t="0"!==o&&e.option_use_pmi,i.saveValue("zoom_config_pmi",t),i.resetShowDisablePmiMsg(e)},resetShowDisablePmiMsg:function(e){if(!e)return;let t=i.getShowDisablePmiMsg();(void 0===t.me||!1===t.me&&"0"!==e.PMI)&&(t.me=!0);let o=e.assistants;"array"===$.type(o)&&$.each(o,(function(e,o){let n=o.id,a=o.roomid;"000-000-000"===a&&(a="0"),(void 0===t[n]||!1===t[n]&&"0"!==a)&&(t[n]=!0)})),i.setShowDisablePmiMsg(t)},setShowDisablePmiMsg:function(e){e=e||"",i.saveValue("showDisablePmiMsg",JSON.stringify(e))},getShowDisablePmiMsg:function(){let e={};try{e=JSON.parse(i.getValue("showDisablePmiMsg"))||{}}catch(e){}return e},setEnableDC:function(e){e=e||"",i.saveValue("enableDC",JSON.stringify(e))},getEnableDC:function(){let e="";try{e=JSON.parse(i.getValue("enableDC"))||""}catch(e){}return e},getMeetingPwdSettingsMap:function(){let e="";try{e=JSON.parse(i.getValue("meetingPwdSettingsMap"))||""}catch(e){}return e},setUpdateAuthOptionItem:function(e){e=e||"",i.saveValue("updateAuthOptionItem",JSON.stringify(e))},getUpdateAuthOptionItem:function(){let e="";try{e=JSON.parse(i.getValue("updateAuthOptionItem"))||""}catch(e){}return e},saveSyncTime:function(e){i.saveValue("zoom_sync_date",e.getTime())},removeZoomData:function(){i.removeValue("zoom_data")},getZoomDataModifiedDate:function(){var e=i.getValue("zoom_token_modified_date");if(e)return new Date(parseInt(e,10))},saveZoomDataModifiedDate:function(e){i.saveValue("zoom_token_modified_date",e.getTime())},removeZoomDataModifiedDate:function(){i.removeValue("zoom_token_modified_date")},getZoomSSOValidDate:function(){var e=i.getValue("zoom_sso_login_time");if(e)return new Date(parseInt(e,10))},saveZoomSSOValidDate:function(e){var t=i.getValue("zoom_sso_exp"),o=e.getTime();o+=t?1e3*t:2592e6,i.saveValue("zoom_sso_login_time",o)},removeZoomSSOValidDate:function(){i.removeValue("zoom_sso_login_time")},hasZoomRqToken:function(){return!!i.getZoomZakRequestToken()},getZoomZakRequestToken:function(){var e=i.getZoomDataModifiedDate(),t=i.getExpirationTime();if(!e||e&&new Date-e>t)i.clearAllData();else{if(!(2==i.getValue("zoom_auth_type")&&i.getValue("zoom_sso_exp")<2592e3&&i.getZoomSSOValidDate()-new Date<0))return i.getValue("zoom_zak");i.clearAllData()}},ssoCheck:function(e,t,o,n,a){i.removeValue("zoom_govurl"),i._ssoCheck(i.getUserBaseUrl()+"mimo/ssocheck",e,t,o,n,a)},govSsoCheck:function(e,t,o,n,a){i._ssoCheck(e+"/mimo/ssocheck",t,o,n,a,(function(){}))},_ssoCheck:function(e,t,o,n,a,i){$.ajax({type:"POST",timeout:6e3,url:e,data:t,headers:{"X-Requested-With":"XMLHttpRequest","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status&&e.result&&e.result.ssoVanityUrl?o(e.result.ssoVanityUrl):e.status&&e.result&&e.result.redirectUrl?i(e.result.redirectUrl):n()},complete:function(){a()}})},toSync:function(e,t){if(i.hasZoomRqToken()){var o=new Date,a=new Date,r=i.getValue("zoom_sync_date");a=r?new Date(parseInt(r,10)):new Date(o.getTime()-1728e5);var s={ext_version:n.a.extVersion,snstype:1,accesstoken:""};i.populateZak(s),o-a>=432e5?(e(),$.ajax({type:"POST",timeout:5e3,url:i.getUserBaseUrl()+i.loginUrl,data:s,headers:i.getZoomHeader(),dataType:"json",success:function(e){if(e.status){var t=e.result;if("object"!==$.type(t))return void i.recordZoomDataError(`${n.a.errors[1]} ${i.convertToString(t)}`,"common.js--toSync");i.saveZoomData(t),i.resetZoomOptions(t),i.saveSyncTime(new Date)}},complete:function(){t()}})):t()}else e(),t()},toSyncImmediate:function(){let e={ext_version:n.a.extVersion,snstype:1,accesstoken:""};return i.populateZak(e),$.ajax({type:"POST",timeout:5e3,url:i.getUserBaseUrl()+i.loginUrl,data:e,headers:i.getZoomHeader(),dataType:"json"}).done((function(e){if(e.status){let t=e.result;if("object"!==$.type(t))return void i.recordZoomDataError(`${n.a.errors[1]} ${i.convertToString(t)}`,"common.js--toSyncImmediate");i.saveZoomData(t),i.resetZoomOptions(t),i.saveSyncTime(new Date)}}))},remoteCheckPassword:function(e){if(i.remoteCheckPwdCache.password==e&&(new Date).getTime()-i.remoteCheckPwdCache.time<3e5){let e=function(){let e=$.Deferred();return setTimeout((function(){e.resolve(i.remoteCheckPwdCache.data)}),20),e.promise()};return $.when(e())}return i.remoteCheckPasswordCall(e)},remoteCheckPasswordCall:function(e){let t={ext_version:n.a.extVersion,password:e};return i.populateZak(t),$.ajax({type:"POST",timeout:5e3,url:i.getUserBaseUrl()+i.checkPwdUrl,data:t,headers:i.getZoomHeader(),dataType:"json"}).done((function(t){t.status||(-1==t.errorCode?t.status=!0:3403!=t.errorCode&&(t.errorMessage=n.a.errors[19])),i.remoteCheckPwdCache={password:e,data:t,time:(new Date).getTime()}}))},getEidMeetingMap:function(){let e=JSON.parse(i.getValue("zoom_eid_meeting_map"));return"object"!==$.type(e)&&"null"!==$.type(e)&&i.recordDataError(`${n.a.errors[14]} ${i.convertToString(e)}`,"common.js -- getEidMeetingMap"),e},setEidMeetingMap:function(e){"object"===$.type(e)?i.saveValue("zoom_eid_meeting_map",JSON.stringify(e)):i.recordDataError(`${n.a.errors[13]} ${i.convertToString(e)}`,"common.js -- setEidMeetingMap")},checkSyncEidMeetingMap:function(){let e=i.getEidMeetingMap();return!(e&&e.synctime&&new Date-e.synctime<432e5)},toSyncEidMeetingMap:function(e,t){},converEidMeetingMap:function(e,t,o){let n={synctime:(new Date).getTime()};$.each(e,(function(e,t){t.calendarId&&t.meetingNumber&&(n[t.calendarId]=t.meetingNumber)})),t&&o&&(n[t]=o),i.setEidMeetingMap(n)},updateEidMeetingMap:function(e,t,o){},saveZoomZakRequestToken:function(e){i.saveValue("zoom_zak",e||"")},getGoogleToken:function(){return i.getValue("google_token")},saveGoogleToken:function(e){i.saveValue("google_token",e)},getExpirationTime:function(){var e=2592e6,t=i.getValue("zoom_zak_exp");return t&&(e=1e3*parseInt(t,10)),e},removeGoogleToken:function(){i.removeValue("google_token")},clearAllData:function(){i.removeGoogleToken(),i.removeZoomData(),i.removeZoomDataModifiedDate(),i.removeValue("zoom_zpk"),i.removeValue("zoom_zak"),i.removeValue("zoom_zpk_exp"),i.removeValue("zoom_zak_exp"),i.removeValue("zoom_sso_exp"),i.removeValue("zoom_govurl"),i.removeValue("zoom_cluster"),i.removeValue("zm_haid"),i.removeValue("zm_aid"),i.removeValue("zoom_eid_meeting_map"),i.removeValue("zoom_config_one_time_pwd"),i.removeValue("zoom_config_jbh_pwd"),i.removeValue("zoom_config_all_pmi_pwd"),i.removeValue("meetingPwdSettingsMap"),i.removeValue("updateAuthOptionItem"),i.removeValue("showDisablePmiMsg"),i.removeValue("enableDC"),i.removeValue("enable_unmute_all"),i.removeValue("zoom_auth_type")},getValue:function(e){var t=localStorage.getItem(e);return null!==t&&(t=i.dataUntrans(t)),"false"!==t&&("true"===t||t)},saveValue:function(e,t){t=i.dataTrans(t),localStorage.setItem(e,t)},removeValue:function(e){localStorage.removeItem(e)},getJbhTimeMinutes:function(){let e=i.getValue("jbhTimeMinutes");return $.inArray(e,["0","5","10","15"])>-1?e:""},setJbhTimeMinutes:function(e){$.inArray(e,["0","5","10","15"])>-1?i.saveValue("jbhTimeMinutes",e):console.log("Illegal value of jbhTimeMinutes to be saved.")},getReturnChar:function(){return"Windows"===i.getOS()?"\r\n":"\r"},getOS:function(){var e=navigator.appVersion;return e.indexOf("Win")>=0?"Windows":e.indexOf("Mac")>=0?"Mac":e.indexOf("X11")>=0?"Unix":e.indexOf("Linux")>=0?"Linux":"unknown"},empty:function(){},generateAlphanumeric:function(e){let t=[],o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];for(let n=0;n<e;n++)t.push(o[parseInt(62*Math.random(),10)]);return t.join("")},dataTrans:function(e){if(5!=n.a.envIndex)return e;let t="";try{let o=i.utf8_to_b64(e),n="",a="";for(let e=0,t=o.length;e<t;e++)e%2==0?n+=o[e]:a+=o[e];let r=Math.floor(7*Math.random())+3;t=i.generateAlphanumeric(r)+i.utf8_to_b64(n+"=#=#"+a)+r}catch(t){i.sendLog({msgType:4,msg:{msg:"dataTrans failed, data: "+e,errorStack:t.stack}})}return t},dataUntrans:function(e){if(5!=n.a.envIndex)return e;let t=e;try{let o=i.b64_to_utf8(e.substring(parseInt(e[e.length-1]),e.length-1)).split("=#=#"),n=o[0],a=o[1],r="";for(let e=0,t=n.length;e<t;e++)r+=n[e],a[e]&&(r+=a[e]);t=i.b64_to_utf8(r)}catch(t){i.sendLog({msgType:4,msg:{msg:"dataUntrans failed, data: "+e,errorStack:t.stack}})}return t},utf8_to_b64:function(e){return window.btoa(unescape(encodeURIComponent(e)))},b64_to_utf8:function(e){return decodeURIComponent(escape(window.atob(e)))},popupLogin:function(e=!1){let t=parseInt(i.getValue("zoom_login_req_option_tabid")),o=parseInt(i.getValue("zoom_popup_tabpage_tabid"));isNaN(t)||isNaN(o)?i.createPopupPage(e):chrome.tabs.update(o,{active:!0},(function(){chrome.runtime.lastError&&i.createPopupPage(e)}))},createPopupPage:function(e){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){let o=t[0].id;chrome.tabs.create({url:chrome.extension.getURL("popup.html"),active:!0},(function(t){i.saveValue("zoom_login_req_option_tabid",o),i.saveValue("zoom_popup_tabpage_tabid",t.id),i.saveValue("zoom_login_req_need_reload",e)}))}))},signWithGoogle:function(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){let t=e[0].id;chrome.tabs.create({url:i.getOAuthURL(),active:!0},(function(e){i.saveValue("zoom_login_request_tabid",t),i.saveValue("zoom_oauth_tabid",e.id)}))}))},ssoSignin:function(e,t){i.ssoCheck({email:e.email,domain:e.domain},(function(e){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){let o=t[0].id;chrome.tabs.create({url:e,active:!0},(function(e){i.saveValue("zoom_login_request_tabid",o),i.saveValue("zoom_oauth_tabid",e.id)}))}))}),(function(){t({state:2,msg:n.a.errors[0]})}),(function(){t({state:3})}),(function(o){checkGovPermission((function(){i.govSsoCheck(o,{email:e.email,domain:e.domain},(function(e){i.saveValue("zoom_govurl",e.substring(0,e.indexOf("/saml/login"))+"/"),chrome.tabs.query({active:!0,currentWindow:!0},(function(t){let o=t[0].id;chrome.tabs.create({url:e,active:!0},(function(e){i.saveValue("zoom_login_request_tabid",o),i.saveValue("zoom_oauth_tabid",e.id)}))}))}),(function(){t({state:2,msg:n.a.errors[0]})}),(function(){t({state:3})}))}))}))},checkGovPermission:function(e){chrome.permissions.contains({origins:["https://*.zoomgov.com/"]},(function(t){t?e():chrome.tabs.create({url:chrome.extension.getURL("permission.html"),selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0})}))}))},getLoginUrl:function(e){var t,o=/https:\/\/([^\/]+)/gi.exec(e);return o&&o.length&&(t=o[0]),t},workemailSignin:function(e,t){i.removeValue("zoom_govurl"),i.signin(e,(function(o){if(o instanceof Object&&o.redirectUrl)i.checkGovPermission((function(){i.govSignin(e,o.redirectUrl,(function(){i.login("","",(function(){t({state:1})}),(function(){t({state:2,msg:n.a.errors[2]})}))}),(function(e){t({state:3,msg:e||n.a.errors[2]})}),(function(e){let o="";"error"===e?o=n.a.errors[3]:"timeout"===e&&(o=n.a.errors[4]),t({state:3,msg:o})}))}));else if(o.indexOf("/signin")>0){var a=o.substring(0,o.indexOf("/signin"))+"/saml/login?from=extension";chrome.tabs.create({url:a,selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0}),i.saveValue("zoom_oauth_tabid",e.id)}))}else{let a,r=i.getLoginUrl(o);a=r?r+"/"+i.loginUrl:i.getUserBaseUrl()+i.loginUrl;let s=new RegExp(`https?:\\/\\/\\w*\\.?zoom${n.a.runEnv[1]}\\.com\\.cn\\/?`,"ig").exec(o);s&&s.length&&s[0].indexOf(`zoom${n.a.runEnv[1]}.com.cn`)>0?i.checkCNPermission((function(){i._signin({email:e.email,password:e.password,type:100},r+"/signin",(function(){i._login(a,"","",(function(){t({state:1})}),(function(){t({state:2,msg:n.a.errors[2]})}))}),(function(e){t({state:2,msg:e||n.a.errors[2]})}),(function(){t({state:3,msg:""})}))})):i._login(a,"","",(function(){t({state:1})}),(function(){t({state:2,msg:n.a.errors[2]})}))}}),(function(e){t({state:2,msg:e||n.a.errors[2]})}),(function(e){let o="";"error"===e?o=n.a.errors[3]:"timeout"===e&&(o=n.a.errors[4]),t({state:3,msg:o})}))},getLoginUrl:function(e){var t,o=/https:\/\/([^\/]+)/gi.exec(e);return o&&o.length&&(t=o[0]),t},checkCNPermission:function(e){chrome.permissions.contains({origins:["https://*.zoom.com.cn/"]},(function(t){t?e():chrome.tabs.create({url:chrome.extension.getURL("permission2.html"),selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0})}))}))},getDcEnableOptions:function(e){let t=i.getEnableDC();if(!!i.getValue("zoom_config_pmi")||!e||!e.support||e.locked||!e.options||!e.options.length||!t)return"";let o=[];return $.each(e.options,(function(e,n){t[n.abbr]&&o.push(n.abbr)})),o.length?JSON.stringify(o):""},sendLogDelayTime:1e3*(5==n.a.envIndex?60:3),sendLog:function(e){if(e&&e.msg){let t="";try{e=JSON.parse(JSON.stringify(e)),i.traverseLog("msg",e.msg,e),t=i.convertToString(e.msg)}catch(e){}if(!t)return;let o={msgType:e.msgType||0,msg:t,operaType:e.operaType||0};i.logDataArr.push(o),i.logTimeDelayer||(i.logTimeDelayer=setTimeout((function(){try{i.logSender()}catch(e){}i.logTimeDelayer=null}),this.sendLogDelayTime||6e4))}},traverseLog:function(e,t,o){let n=$.type(t);"object"===n||"array"===n?$.each(t,(function(e,o){i.traverseLog(e,o,t)})):i.cleanLog(e,o)},cleanLog:function(e,t){$.inArray(e,["zak","topic","password","mtg_alternative_host"])>-1&&(t[e]="***")},logSender:function(){if(i.logDataArr.length){let e=i.getUserBaseUrl()+i.logUrl,t={msgType:0,msg:JSON.stringify(i.logDataArr),operaType:0};i.populateZak(t),i.logDataArr=[],$.ajax({type:"POST",url:e,data:t,timeout:5e3,headers:i.getZoomHeader()})}}};window.addEventListener("error",e=>{i.sendLog({msgType:1,msg:{msg:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,stack:e.error?e.error.stack:""}})},!0),t.a=i},1:function(e,t,o){"use strict";const n="5";try{n=parseInt(n)}catch(e){}const a=[["dev-integration.","dev"],["","dev"],["devep.","dev"],["go.",""],["us04web.",""],["",""],["devcolo.","dev"],["deva.","dev"],["local.",""]];t.a={extVersion:"1.5.7",get runEnv(){let e=a[n];return void 0===e?a[5]:e},get envIndex(){return n},errors:["No matching domain found.","zoom_data is not an Object:","Invalid email address or password.","Network error, please try again!","Request timeout, please try again!","Schedule meeting failed. Please try again.","Login failed. Please try again.","Update settings failed!","Unknown error, please refresh page and try again.","Port not exist, please refresh page and try again.","Enter valid domains. Separate multiple domains by semicolon","can't parse the event duration correctly","eid_meeting_map is not an Array:","set eidMeetingMap value is not an Object:","get eidMeetingMap value is not an Object or null:","get eidMeetingMap value is not an Object:","this eid is missing in eidMeetingMap:","Please save or cancel the result of the domians edit before continue.","Select at least 1 region","The password does not meet the requirement"],tips:["Enter valid email addresses. Separate multiple domains by semicolon","The setting is locked and cannot be changed. All of your meetings will use this setting.","You are permanently deleting this Zoom meeting. This action cannot be undone.","You have added two Zoom meetings. One of your meetings will be deleted. \n\nA new meeting is automatically created when you add a guest or a room. If you are manually adding a Zoom meeting, you only need to click “Make it a Zoom Meeting” or “Add Conferencing”.","Record the meeting automatically on the local computer","Record the meeting automatically in the cloud","Please enter a meeting password",'If you want to make changes for your personal meeting, <a href="">change PMI settings</a> here.',"If you change the settings and schedule this meeting, all previously scheduled PMI meetings will use the latest settings.","If no domains specified, any signed-in users can join","You have signed out from Zoom. Please sign in again to use Zoom service.","You have logged in successfully!","Sign in to Zoom with the following specified domains",'"Internal domain restriction" has been removed from the list, after saving this meeting, you cannot select this option again.',"Zoom meeting settings synchronization in progress...","Zoom meeting settings synchronization has been done!","Zoom meeting settings synchronization failed. Please try again later!"]}},12:function(e,t,o){},2:function(e,t,o){"use strict";o(4);var n={showDomAnimate(e){let t=e.get(0);t&&(e.css({display:"block"}),t.timeout&&(clearTimeout(t.timeout),t.timeout=null),t.timeout=setTimeout((function(){e.addClass("show"),t.timeout=null}),10))},closeDomAnimate(e,t=150){let o=e.get(0);o&&(e.removeClass("show"),o.timeout&&(clearTimeout(o.timeout),o.timeout=null),o.timeout=setTimeout((function(){e.css({display:"none"}),o.timeout=null}),150))}};let a,i,r=["qwertyuiop","asdfghjkl","zxcvbnm","!@#$%^&*()","01234567890"];function s(e,t){let o=this,r=!0,s="",l="";a(e).on("focus",(function(s){s.stopPropagation(),t&&(r&&(r=!1,function(e){let t=e.getBoundingClientRect().width/2;a(".zoom-pwd-auth-pop .pop-arrow").css({left:t+"px"})}(e)),i.length&&n.showDomAnimate(a(".zoom-pwd-auth-pop")),o.checkRules(),g(this))})).on("blur",(function(e){e.stopPropagation(),t&&i.length&&n.closeDomAnimate(a(".zoom-pwd-auth-pop")),o.opt.blurCallback()})).on("input",(function(e){if(t){let{res:e,msg:t,errortype:n}=o.checkRules();e&&o.opt.conformRuleCallback()}1===(l=this.value).length&&0===s.length&&o.opt.startInputCallback(),s=l})).on("keyup",(function(e){9!=e.keyCode&&16!=e.keyCode&&(this.value=this.value.replace(/[^\w~!@#$%^&*()/\|,\.<>?"';:+\-=\[\]{}]/g,""),a("#meetingPwdDescription").text(""),40===e.keyCode&&g(this))})).on("afterpaste",(function(e){this.value=this.value.replace(/[^\w~!@#$%^&*()/\|,\.<>?"';:+\-=\[\]{}]/g,"")}))}function l(e,t,o=!0){let n=!0;return t.lengthRule>0&&(e.length>=t.lengthRule?o&&m("length"):(n=!1,o&&d("length"))),t.alpabetRule&&(!function(e){return/[A-Za-z]/.test(e)}(e)?(n=!1,o&&d("alpabet")):o&&m("alpabet")),t.numberRule&&(!function(e){return/\d/.test(e)}(e)?(n=!1,o&&d("number")):o&&m("number")),t.specialRule&&(!function(e){return/[~!@#$%^&*()/\|,\.<>?"';:_+\-=\[\]{}]/.test(e)}(e)?(n=!1,o&&d("special")):o&&m("special")),t.onlyNumberRule&&(!function(e){if("string"===a.type(e)&&0===e.length)return!0;return/\D/.test(e)}(e)?o&&m("onlyNumber"):(n=!1,o&&d("onlyNumber"))),t.combineRule&&(!function(e){return/[a-z]/.test(e)&&/[A-Z]/.test(e)}(e)?(n=!1,o&&d("upperLowerChar")):o&&m("upperLowerChar")),t.consecutiveRule>0&&(u(e,t.consecutiveRule,!0)?(n=!1,o&&d("consecutive")):o&&m("consecutive")),n}function u(e,t,o){o&&(e=e.toLowerCase());let n,a,i,r=e.length;t=parseInt(t);for(let o=0;o<=r-t;o++){n=0,a=0,i=0;for(let r=0;r<t-1;r++){if(e.charCodeAt(o+r)==e.charCodeAt(o+r+1)&&++n==t-1)return!0;if(e.charCodeAt(o+r+1)-e.charCodeAt(o+r)==1&&++a==t-1)return!0;if(e.charCodeAt(o+r)-e.charCodeAt(o+r+1)==1&&++i==t-1)return!0}if(c(e.substring(o,o+t)))return!0}return!1}function c(e){let t=[...e].reverse().join("");for(var o=0;o<r.length;o++){var n=r[o];if(-1!=n.indexOf(e)||-1!=n.indexOf(t))return!0}return!1}function m(e){i&&i.find("."+e).addClass("tick")}function d(e){i&&i.find("."+e).removeClass("tick")}function p(e){let t=[...e];for(var o=t.length-1;o>0;o--){var n=Math.floor(Math.random()*(o+1)),a=t[o];t[o]=t[n],t[n]=a}return t.join("")}function g(e){if(i.length){let t="Password must:";i.find("div").each((function(){let e=a(this);e.hasClass("tick")?t+=e.text()+", met, ":t+=e.text()+", not met, "})),a("#meetingPwdDescription").text(t),a(e).attr("aria-describedby","meetingPwdDescription")}}t.a=class{constructor(e){this.opt=Object.assign({},{blurCallback:()=>{},startInputCallback:()=>{},conformRuleCallback:()=>{}},e),this.init()}log(){console.log(this.opt)}init(){a=this.opt.jquery?this.opt.jquery:window.$;let e=this.opt.el,t=this.opt.rule;e&&(this.createMenu(e,t),s.call(this,e,t))}createMenu(e,t){let o=function(e){let t='\n        <div class="zoom-pwd-auth-pop">\n            <div class="pop-arrow"></div>\n            ',o=e.lengthRule>0||e.alpabetRule||e.numberRule||e.specialRule||e.onlyNumberRule||e.combineRule;o&&(t+='<div class="pop-title">Password must:</div>\n                    <div class="auth-list">');e.lengthRule>0&&(t+=`<div class="length">Have at least ${e.lengthRule} characters</div>`);e.alpabetRule&&(t+='<div class="alpabet">Have at least 1 letter (a, b, c...)</div>');e.numberRule&&(t+='<div class="number">Have at least 1 number (1, 2, 3...)</div>');e.specialRule&&(t+='<div class="special">Have at least 1 special character (!, @, #...)</div>');e.onlyNumberRule&&(t+='<div class="onlyNumber">Only allow numeric password</div>');e.combineRule&&(t+='<div class="upperLowerChar">Include both upper case and lower case characters</div>');o&&(t+="</div>");(o=e.consecutiveRule>0)&&(t+='<div class="pop-title">Password must NOT:</div>\n                    <div class="auth-list">');e.consecutiveRule>0&&(t+=`<div class="consecutive">Contain ${e.consecutiveRule} consecutive characters (e.g. "11111", "12345", "abcde", or "qwert")</div>`);o&&(t+="</div>");return t+='\n        </div>\n        <div id="meetingPwdDescription"></div>\n    '}(t);a(e).after(o),i=a(".zoom-pwd-auth-pop .auth-list")}checkRules(){let e=this.opt.el,t=this.opt.rule;if(e){let o=a(e).val();if(o=o?o.trim():""){if(t){return l(o,t,!0)?{res:!0,msg:""}:{res:!1,msg:"The password does not meet the requirement",errortype:1}}return{res:!0,msg:""}}return l(o,t,!0),{res:!1,msg:"Please enter a meeting password",errortype:2}}return{res:!1,msg:"Password entry box not found",errortype:3}}getPassword(){let e=this.opt.el,t="";return e&&(t=a(e).val())&&(t=t.trim()),t}static validityPassword(e,t){return!(!e||!t)&&l(e,t,!1)}static generateMeetingPassword(e,t=1){if(!e){let e="";return e=2===t?this.generateNumLetterPassword(6):this.generateNumberPassword(6)}let o=Math.max(6,e.lengthRule);if(e.onlyNumberRule)return this.generateNumberPassword(o);{let t=this.genPwdByActionableRule(e,o);if(e.consecutiveRule>0){let n=20;for(;--n>0&&u(t,e.consecutiveRule,!0);)t=n%5==0?this.genPwdByActionableRule(e,o):p(t)}return t}}static generateNumberPassword(e){let t=[];for(let o=0;o<e;o++)t.push(parseInt(10*Math.random(0,1),10));return t.join("")}static generateNumLetterPassword(e){let t="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",o=[],n=Math.floor(Math.random()*(e-1))+1;for(let a=0;a<e;a++)n>0?(o.push(t.charAt(parseInt(Math.random()*t.length))),n--):o.push(parseInt(10*Math.random()));return p(o.join(""))}static generateComplexPassword(e){const t="0123456789abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ!@#$%^&*.?+=";let o=[];for(let n=0;n<e;n++)o.push(t.charAt(parseInt(Math.random()*t.length)));return o.join("")}static genPwdByActionableRule(e,t){let o=[];if(o.push(parseInt(10*Math.random(0,1),10)),t--,e.alpabetRule){let e="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";o.push(e.charAt(parseInt(Math.random()*e.length))),t--}if(e.specialRule){let e="!@#$%^&*.?+=";o.push(e.charAt(parseInt(Math.random()*e.length))),t--}if(e.combineRule){let e="ABCDEFGHJKLMNPQRSTUVWXYZ";o.push(e.charAt(parseInt(Math.random()*e.length))),t--,e="abcdefghijkmnpqrstuvwxyz",o.push(e.charAt(parseInt(Math.random()*e.length))),t--}return p(o.join("")+this.generateComplexPassword(t))}}},20:function(e,t,o){"use strict";o.r(t);var n=o(1),a=o(0);o(3);let i,r,s;window.reCaptchaLoaded=function(){grecaptcha.render(i,{sitekey:"6LeCs08UAAAAANsipFTD9hc0HJVjR6t1ja323yJr",size:"invisible","expired-callback":function(){"function"==typeof s&&s()},"error-callback":function(){"function"==typeof s&&s()},callback:function(e){e&&("function"==typeof r?r(e):console.log("captcha successCallback is not a function!"))},badge:"bottomleft",isolated:!1})};var l={init:function(e,t,o){i=e,r=t,s=o;let n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://www.google.com/recaptcha/api.js?onload=reCaptchaLoaded&render=explicit&hl=en",setTimeout((function(){document.getElementsByTagName("body")[0].appendChild(n)}),100)},isReCaptcha:function(){return"recaptcha"===$(i).parent().data("type")&&grecaptcha},execute:function(){grecaptcha.execute()},reset:function(){grecaptcha.reset()}};o(6),o(12);$((function(){$("#content").delegate("a","click",(function(e){e.stopPropagation(),e.preventDefault()})),$("#content").on("submit","form",(function(e){e.preventDefault(),e.stopPropagation()}));var e=$("#header_container"),t=$("#content_container .btn-content"),o=$("#footer_container"),i=$("#content_container .sec-sign"),r=$("#loading");function s(){r.hide()}function u(e){e=e||"Loading",r.find("span").text(e),r.show()}function c(){s(),e.hide(),i.show(),t.hide(),o.hide(),l.isReCaptcha()||l.init($("div.g-recaptcha")[0],h,(function(){v({state:2,msg:"Failed to obtain Google captcha. Please try again."})}))}function m(r){i.hide(),a.a.toSync((function(){u("Connecting")}),(function(){if(r.email&&""!=r.email&&e.find(".profile-email").text(r.email).attr("title",r.email),r.displayPicUrl&&""!=r.displayPicUrl){var a=r.displayPicUrl;0==a.indexOf("https")||0==a.indexOf("http")||(a=r._zm_baseurl&&""!=r._zm_baseurl?r._zm_baseurl+a:`https://${n.a.runEnv[0]}zoom${n.a.runEnv[1]}.us`+a),setTimeout((function(){e.find(".profile-img").attr("src",a)}),100)}r.displayName&&""!=r.displayName&&e.find(".profile-img").attr("alt",r.displayName),s(),e.show(),i.hide(),t.show(),o.show()}))}$(".recaptcha-policy a").on("click",(function(e){e.stopPropagation(),e.preventDefault();let t=$(this).attr("href");t&&chrome.tabs.create({url:t,selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0})}))}));var d,p=a.a.hasZoomRqToken(),g=a.a.getZoomData();p&&g?m(g):(d=a.a.getGoogleToken())?a.a.login(d,"",(function(){m(a.a.getZoomData())}),(function(){c()})):c(),$("#login_with_google").click((function(){chrome.tabs.create({url:a.a.getOAuthURL(),selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0}),a.a.saveValue("zoom_oauth_tabid",e.id)}))})),$(".sso-back").delegate(".back-main","click",(function(e){$(".sec-sign .sign-pannel").show(),$(".sec-sign .sso-pannel").hide(),$("#login_with_google").focus()})),$("#sso-form").delegate("#manual-domain","click",(function(e){$(".sec-sign #sso-form .company").hide(),$(".sec-sign #sso-form .manual").show(),$(".sso-msg").text(""),$("#sso-form input#domain").focus().trigger("keyup")})),$("#sso-form").delegate("#company-domain","click",(function(e){$(".sec-sign #sso-form .company").show(),$(".sec-sign #sso-form .manual").hide(),$(".sso-msg").text(""),$("#sso-form input#ssoemail").focus().trigger("keyup")})),$("#login_with_sso").click((function(){$(".sec-sign .sign-pannel").hide(),$(".sec-sign .sso-pannel").show(),$("#ssoemail").val("").focus(),$(".sso-msg").text("")})),$("#login-form").delegate("input","keyup",(function(e){$(this);b($("input[name='email']").val().trim())&&$("#password").val().length>=6?$(".sign-pannel .signin > button").removeClass("disabled").attr("aria-disabled","false"):$(".sign-pannel .signin > button").addClass("disabled").attr("aria-disabled","true")})),$("#sso-form").delegate("input","keyup",(function(e){$(this).val().length>0?window.setTimeout((function(){$("input[name='domain']").is(":visible")&&(""!=$("#domain").val().trim()?$(".sso-pannel .continue > button").removeClass("disabled").attr("aria-disabled","false"):$(".sso-pannel .continue > button").addClass("disabled").attr("aria-disabled","true")),$("input[name='ssoemail']").is(":visible")&&(b($("input[name='ssoemail']").val().trim())?$(".sso-pannel .continue > button").removeClass("disabled").attr("aria-disabled","false"):$(".sso-pannel .continue > button").addClass("disabled").attr("aria-disabled","true"))}),100):$(".sso-pannel .continue > button").addClass("disabled").attr("aria-disabled","true")}));var _=$(".workemail"),f=_.find(".error-msg");function h(e){let t={email:$("#email").val().trim(),password:$("#password").val(),captcha:e,type:100};a.a.workemailSignin(t,(function(e){v(e)}))}function v(e){_.find(".btn-workemail-signin").removeClass("inprogress"),_.find(".busy").hide(),1===e.state?function(){a.a.saveValue("zoom_auth_type",1),chrome.runtime.sendMessage({type:"getwebextmapping"});let e=parseInt(a.a.getValue("zoom_login_req_option_tabid"));if(!isNaN(e)){a.a.removeValue("zoom_login_req_option_tabid");let t=parseInt(a.a.getValue("zoom_popup_tabpage_tabid"));a.a.removeValue("zoom_popup_tabpage_tabid"),a.a.getValue("zoom_login_req_need_reload")&&chrome.tabs.reload(e,(function(){chrome.runtime.lastError})),a.a.removeValue("zoom_login_req_need_reload"),chrome.tabs.remove(t,(function(){chrome.runtime.lastError})),chrome.tabs.update(e,{active:!0},(function(e){chrome.runtime.lastError}))}window.location.reload()}():2===e.state?(l.isReCaptcha()&&l.reset(),_.find(".error-msg").show().text(e.msg)):3===e.state&&(l.isReCaptcha()&&l.reset(),e.msg&&_.find(".error-msg").show().text(e.msg)),_.lock=!1}function b(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)}_.on("click",".btn-workemail-signin",(function(e){if(e.stopPropagation(),!_.lock){var t=$(this),o=t.parent(),n=$("#email").val().trim(),a=$("#password").val();if(b(n)&&a.length>=6){if(!l.isReCaptcha())return void alert("Captcha Initialization failure!");l.execute(),t.addClass("inprogress"),o.find(".busy").show(),"none"!==f.css("display")&&f.hide(),_.lock=!0}}})),$(".continue>button").click((function(){var e=$(this);($("input[name='ssoemail']").is(":visible")&&b($("input[name='ssoemail']").val())||$("input[name='domain']").is(":visible")&&""!=$("input[name='domain']").val())&&($(".sso-msg").text(""),e.addClass("inprogress"),$(".continue .busy").show(),a.a.ssoCheck({email:$("input[name='ssoemail']").is(":visible")?$("input[name='ssoemail']").val():"",domain:$("input[name='domain']").is(":visible")?$("input[name='domain']").val()+`.zoom${n.a.runEnv[1]}.us`:""},(function(e){chrome.tabs.create({url:e,selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0}),a.a.saveValue("zoom_oauth_tabid",e.id)}))}),(function(){$("#sso-form input:visible").focus(),$(".sso-msg").text(n.a.errors[0])}),(function(){e.removeClass("inprogress"),$(".continue .busy").hide()}),(function(t){var o;o=function(){$(".sso-msg").text(""),e.addClass("inprogress"),$(".continue .busy").show(),a.a.govSsoCheck(t,{email:$("input[name='ssoemail']").is(":visible")?$("input[name='ssoemail']").val():"",domain:$("input[name='domain']").is(":visible")?$("input[name='domain']").val()+".zoom.us":""},(function(e){a.a.saveValue("zoom_govurl",e.substring(0,e.indexOf("/saml/login"))+"/"),chrome.tabs.create({url:e,selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0}),a.a.saveValue("zoom_oauth_tabid",e.id)}))}),(function(){$("#sso-form input:visible").focus(),$(".sso-msg").text(n.a.errors[0])}),(function(){e.removeClass("inprogress"),$(".continue .busy").hide()}))},chrome.permissions.contains({origins:["https://*.zoomgov.com/"]},(function(e){e?o():chrome.tabs.create({url:chrome.extension.getURL("permission.html"),selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0})}))}))})))})),$("#footer_container .signout>a").click((function(){return u("Connecting"),a.a.logout((function(){c()})),!1})),$("#content_container .btn-group").hover((function(){var e=$(this);e.hasClass("open")||e.addClass("open")}),(function(){var e=$(this);e.hasClass("open")&&e.removeClass("open")})),$("#content_container .btn-group").click((function(){$(this).toggleClass("open")})),$("#content_container").delegate(".btn-group","click",(function(e){$("#content_container .btn-group");$(e.target).hasClass("with-video")?a.a.startInstantMeeting(!0):$(e.target).hasClass("without-video")&&a.a.startInstantMeeting(!1)})),$(".profile .profile-email").click((function(){chrome.tabs.create({url:a.a.getMyMeetingsUrl()})})),$(".setting>a").click((function(e){e.stopPropagation(),a.a.saveValue("zoom_config_fte",!1),chrome.tabs.create({url:chrome.extension.getURL("options.html")},(function(e){a.a.saveValue("zoom_options_tabid",0)}))})),$("#main_schedule_meeting").click((function(){a.a.getValue("zoom_config_fte")?chrome.tabs.create({url:chrome.extension.getURL("options.html"),selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0}),a.a.saveValue("zoom_options_tabid",e.id)})):chrome.tabs.create({url:a.a.getGoogleCalendarUrl()},(function(e){}))}))}))},4:function(e,t,o){}});