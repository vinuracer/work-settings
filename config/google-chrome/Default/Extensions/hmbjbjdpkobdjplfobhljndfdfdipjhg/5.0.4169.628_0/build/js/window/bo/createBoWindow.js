"use strict";var createBo=function(){var t=void 0;function e(){var e=t.boObj.autoAssign,n=t.boObj.roomNum,o=i(t.attendeeNum,n);$("#window-createBo #count").text(t.attendeeNum),$("#window-createBo #each_bo_num").text(o),$("#window-createBo #ra").attr("checked",e),$("#window-createBo #rm").attr("checked",!e)}function n(){clearInterval(t.intervalId);var e=mainAppHtmlWindow.winMgr.getWinByWinId("createBoWin");e?e.close():$("#window-createBo").addClass("hideMe")}function i(e,n){var o,t=parseInt(e),i=parseInt(n),r=t/i;return 0!==t%i?(o=Math.floor(r))+"-"+(o+1):r}function r(){var e=$("#window-createBo #bor-spinner").spinner(),n=parseInt(e.spinner("value"));return n<1||50<n?1:n}function a(){var e=t.meeting.getAttendeesFromBoItems(),n=t.boObj.allBOInfo.unassignedBoUsers.length;return e.length+n}function o(){var e=t.meeting.getAttendeesFromBoItems();return _.concat(e,t.meeting.boObj.allBOInfo.unassignedBoUsers)}function c(){var e=t.meeting.boObj;e.roomNum=r(),e.autoAssign=$("#window-createBo #ra").is(":checked"),e.attendees=o(),e.unassignAttendees=o()}return{showCreateBo:function(){var e=mainAppHtmlWindow.winMgr.getWinByWinId("createBoWin");null===e?mainAppChromeWindow.isFullscreen()||mainAppHtmlWindow.backgroundWindow.isKioskApp()?client.toggleDivWindow("window-createBo"):inmeeting.createAssignBoWindow():e.focus()},initCreateBoWindow:function(){t={meeting:mainAppHtmlWindow.inmeeting,boObj:mainAppHtmlWindow.inmeeting.boObj,attendeeNum:null,intervalId:null,isEnded:mainAppHtmlWindow.inmeeting.isEnded()},t.boObj.attendees.length,t.boObj.allBOInfo.unassignedBoUsers.length,t.attendeeNum=a(),$("#window-createBo #bor-spinner").spinner({min:1,max:50,spin:function(e,n){var o=i(t.attendeeNum,n.value);$("#window-createBo #each_bo_num").text(o)},change:function(e,n){var o=i(t.attendeeNum,$("#window-createBo #bor-spinner").val());$("#window-createBo #each_bo_num").text(o)}}),$("#window-createBo #bor-spinner").spinner("value",t.boObj.roomNum),e(),mainAppChromeWindow.isFullscreen()||mainAppHtmlWindow.backgroundWindow.isKioskApp()||($("#window-createBo .window-close").click(function(){n()}),escEvt("#window-createBo",function(){n()})),$("#window-createBo .bor-crbtn").off("click").on("click",function(){c(),mainAppHtmlWindow.bo.showBo(function(e){e.contentWindow.bo.execute()}),n()}),a11y(),t.intervalId=setInterval(function(){var e=a(),n=void 0,o=void 0;e!==t.attendeeNum&&(t.attendeeNum=e,n=r(),o=i(e,n),$("#window-createBo #count").text(e),$("#window-createBo #each_bo_num").text(o))},500),setTimeout(function(){$("#window-createBo #bor-spinner").focus()},500)},bindRecallAllRoomsEvt:function(){$("#window-createBo .bor-crbtn").off("click").on("click",function(){var e=mainAppHtmlWindow.winMgr.getWinByWinId("boWin");c(),e?e.contentWindow.bo.recreateBoWindow():mainAppChromeWindow.isFullscreen()||mainAppHtmlWindow.backgroundWindow.isKioskApp()?bo.recreateBoWindow():t.meeting.createBoWindow(function(e){e.contentWindow.bo.execute()}),n()})},recreateAllRooms:function(){$("#window-createBo .bor-crbtn").text("Recreate All Rooms"),$("#window-createBo .panel-head").remove(),$("#window-createBo .bor-warning").removeClass("forceHide"),e()}}}();